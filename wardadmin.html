<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nigam Setu - Indore Smart City Admin Portal</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Inter:wght@300;400;500;600;700&display=swap');
        
        :root {
            --primary-bg: #0f172a;
            --secondary-bg: #1e293b;
            --tertiary-bg: #334155;
            --glass-bg: rgba(15, 23, 42, 0.3);
            --glass-border: rgba(255, 255, 255, 0.1);
            --neon-cyan: #00fff0;
            --neon-purple: #a855f7;
            --neon-pink: #ec4899;
            --neon-blue: #3b82f6;
            --neon-green: #10b981;
            --text-primary: #ffffff;
            --text-secondary: #94a3b8;
            --text-muted: #64748b;
            --success: #10b981;
            --warning: #f59e0b;
            --error: #ef4444;
            --gold: #fbbf24;
            --silver: #e5e7eb;
            --bronze: #d97706;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--primary-bg);
            color: var(--text-primary);
            overflow-x: hidden;
            min-height: 100vh;
            background-image: 
                radial-gradient(circle at 20% 80%, rgba(168, 85, 247, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(0, 255, 240, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(236, 72, 153, 0.1) 0%, transparent 50%);
            background-attachment: fixed;
        }

        /* Enhanced Scrollbar */
        ::-webkit-scrollbar {
            width: 12px;
        }

        ::-webkit-scrollbar-track {
            background: var(--secondary-bg);
            border-radius: 6px;
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(45deg, var(--neon-cyan), var(--neon-purple));
            border-radius: 6px;
            border: 2px solid var(--secondary-bg);
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(45deg, var(--neon-purple), var(--neon-pink));
        }

        /* Advanced Glass Morphism */
        .glass {
            background: var(--glass-bg);
            backdrop-filter: blur(25px);
            -webkit-backdrop-filter: blur(25px);
            border: 1px solid var(--glass-border);
            border-radius: 24px;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.1),
                0 0 0 1px rgba(255, 255, 255, 0.05);
        }

        .neon-glow {
            box-shadow: 
                0 0 30px rgba(0, 255, 240, 0.3),
                0 0 60px rgba(168, 85, 247, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        .neon-border {
            position: relative;
            overflow: hidden;
        }

        .neon-border::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, var(--neon-cyan), var(--neon-purple), var(--neon-pink), var(--neon-cyan));
            background-size: 400% 400%;
            border-radius: inherit;
            padding: 2px;
            mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            mask-composite: exclude;
            animation: neonBorderFlow 3s ease-in-out infinite;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .neon-border:hover::before {
            opacity: 1;
        }

        @keyframes neonBorderFlow {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        /* Container */
        .portal-container {
            max-width: 1800px;
            margin: 0 auto;
            padding: 24px;
            min-height: 100vh;
        }

        /* Enhanced Header */
        .portal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 48px;
            padding: 24px 32px;
            position: relative;
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 24px;
        }

        .logo {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, var(--neon-cyan), var(--neon-purple));
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Orbitron', monospace;
            font-size: 2rem;
            font-weight: 900;
            color: var(--primary-bg);
            position: relative;
            overflow: hidden;
        }

        .logo::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transform: rotate(45deg);
            animation: logoShine 3s infinite;
        }

        @keyframes logoShine {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            50% { transform: translateX(100%) translateY(100%) rotate(45deg); }
            100% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
        }

        .title-section h1 {
            font-family: 'Orbitron', monospace;
            font-size: 3.5rem;
            font-weight: 900;
            background: linear-gradient(135deg, var(--neon-cyan), var(--neon-purple), var(--neon-pink));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 0 40px rgba(0, 255, 240, 0.5);
            margin-bottom: 8px;
            position: relative;
        }

        .title-section .subtitle {
            font-size: 1.3rem;
            color: var(--text-secondary);
            font-weight: 400;
            letter-spacing: 0.5px;
        }

        .header-controls {
            display: flex;
            gap: 16px;
            align-items: center;
        }

        .control-btn {
            padding: 16px 32px;
            background: linear-gradient(135deg, var(--neon-purple), var(--neon-cyan));
            border: none;
            border-radius: 50px;
            color: var(--text-primary);
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .control-btn:hover {
            transform: translateY(-4px) scale(1.05);
            box-shadow: 0 20px 40px rgba(168, 85, 247, 0.4);
        }

        .control-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.6s;
        }

        .control-btn:hover::before {
            left: 100%;
        }

        /* Enhanced Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 32px;
            margin-bottom: 48px;
        }

        .stat-card {
            padding: 32px;
            position: relative;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            border: 1px solid transparent;
        }

        .stat-card:hover {
            transform: translateY(-8px) scale(1.02);
            border-color: var(--neon-cyan);
            box-shadow: 
                0 25px 50px rgba(0, 255, 240, 0.25),
                0 0 40px rgba(168, 85, 247, 0.3);
        }

        .stat-icon {
            font-size: 3.5rem;
            margin-bottom: 20px;
            background: linear-gradient(135deg, var(--neon-cyan), var(--neon-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            filter: drop-shadow(0 0 20px rgba(0, 255, 240, 0.5));
        }

        .stat-number {
            font-family: 'Orbitron', monospace;
            font-size: 3.5rem;
            font-weight: 700;
            color: var(--neon-cyan);
            margin-bottom: 12px;
            text-shadow: 0 0 30px rgba(0, 255, 240, 0.6);
            position: relative;
        }

        .stat-label {
            font-size: 1.1rem;
            color: var(--text-secondary);
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .stat-trend {
            position: absolute;
            top: 24px;
            right: 24px;
            font-size: 2rem;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }

        /* Main Grid Layout */
        .main-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            margin-bottom: 48px;
        }

        .section-card {
            padding: 40px;
            position: relative;
            overflow: hidden;
            min-height: 600px;
        }

        .section-title {
            font-family: 'Orbitron', monospace;
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 32px;
            background: linear-gradient(135deg, var(--neon-cyan), var(--neon-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            display: flex;
            align-items: center;
            gap: 16px;
            position: relative;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 0;
            width: 100px;
            height: 3px;
            background: linear-gradient(90deg, var(--neon-cyan), var(--neon-purple));
            border-radius: 2px;
        }

        /* Enhanced Top Performers */
        .performers-grid {
            display: grid;
            gap: 24px;
        }

        .performer-card {
            padding: 28px;
            background: linear-gradient(135deg, rgba(0, 255, 240, 0.1), rgba(168, 85, 247, 0.1));
            border: 2px solid transparent;
            border-radius: 20px;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .performer-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, var(--neon-cyan), var(--neon-purple), var(--neon-pink));
            opacity: 0;
            transition: opacity 0.3s ease;
            border-radius: inherit;
            z-index: -1;
        }

        .performer-card:hover {
            transform: scale(1.05);
            border-color: var(--neon-cyan);
            box-shadow: 0 0 50px rgba(0, 255, 240, 0.4);
        }

        .performer-card:hover::before {
            opacity: 0.1;
        }

        .performer-rank {
            position: absolute;
            top: -12px;
            right: -12px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 900;
            font-size: 1.5rem;
            font-family: 'Orbitron', monospace;
            box-shadow: 0 0 30px rgba(0, 0, 0, 0.5);
        }

        .rank-1 {
            background: linear-gradient(135deg, var(--gold), #fcd34d);
            color: var(--primary-bg);
        }

        .rank-2 {
            background: linear-gradient(135deg, var(--silver), #f3f4f6);
            color: var(--primary-bg);
        }

        .rank-3 {
            background: linear-gradient(135deg, var(--bronze), #f59e0b);
            color: var(--text-primary);
        }

        .performer-info h3 {
            font-size: 1.5rem;
            margin-bottom: 12px;
            color: var(--neon-cyan);
            font-weight: 700;
        }

        .performer-officer {
            font-size: 1.1rem;
            color: var(--text-secondary);
            margin-bottom: 16px;
            font-weight: 500;
        }

        .performer-score {
            font-family: 'Orbitron', monospace;
            font-size: 1.3rem;
            color: var(--success);
            margin-bottom: 16px;
            font-weight: 700;
        }

        .performance-bar {
            width: 100%;
            height: 12px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            overflow: hidden;
            margin-bottom: 16px;
            position: relative;
        }

        .performance-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--neon-cyan), var(--neon-purple));
            border-radius: 6px;
            transition: width 2s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 0 20px rgba(0, 255, 240, 0.6);
            position: relative;
        }

        .performance-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .performer-badges {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .badge {
            padding: 6px 16px;
            background: linear-gradient(135deg, var(--neon-purple), var(--neon-pink));
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            box-shadow: 0 4px 15px rgba(168, 85, 247, 0.3);
        }

        /* Enhanced News Section */
        .news-controls {
            display: flex;
            gap: 20px;
            margin-bottom: 32px;
            flex-wrap: wrap;
            align-items: center;
        }

        .add-news-btn {
            padding: 16px 32px;
            background: linear-gradient(135deg, var(--success), var(--neon-cyan));
            border: none;
            border-radius: 50px;
            color: var(--text-primary);
            font-weight: 700;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            position: relative;
            overflow: hidden;
        }

        .add-news-btn:hover {
            transform: translateY(-4px) scale(1.05);
            box-shadow: 0 20px 40px rgba(16, 185, 129, 0.4);
        }

        .floating-add-btn {
            position: fixed;
            bottom: 32px;
            right: 32px;
            width: 70px;
            height: 70px;
            background: linear-gradient(135deg, var(--neon-purple), var(--neon-cyan));
            border: none;
            border-radius: 50%;
            color: var(--text-primary);
            font-size: 2rem;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1000;
            box-shadow: 0 10px 30px rgba(168, 85, 247, 0.4);
        }

        .floating-add-btn:hover {
            transform: scale(1.1) rotate(90deg);
            box-shadow: 0 20px 50px rgba(168, 85, 247, 0.6);
        }

        .news-feed {
            max-height: 500px;
            overflow-y: auto;
            padding-right: 16px;
        }

        .news-item {
            padding: 24px;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.05), rgba(0, 255, 240, 0.05));
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            margin-bottom: 20px;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .news-item:hover {
            border-color: var(--neon-cyan);
            box-shadow: 0 10px 30px rgba(0, 255, 240, 0.3);
            transform: translateY(-4px);
        }

        .news-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 16px;
        }

        .news-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--neon-cyan);
            margin-bottom: 8px;
            line-height: 1.4;
        }

        .news-meta {
            font-size: 0.95rem;
            color: var(--text-secondary);
            display: flex;
            gap: 16px;
            flex-wrap: wrap;
        }

        .news-actions {
            display: flex;
            gap: 12px;
        }

        .action-btn {
            padding: 8px 16px;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 600;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .edit-btn {
            background: linear-gradient(135deg, var(--warning), #fbbf24);
            color: var(--primary-bg);
        }

        .delete-btn {
            background: linear-gradient(135deg, var(--error), #f87171);
            color: var(--text-primary);
        }

        .action-btn:hover {
            transform: scale(1.1) translateY(-2px);
        }

        /* Enhanced Messages Section */
        .message-composer {
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 32px;
            margin-bottom: 32px;
            transition: all 0.3s ease;
        }

        .message-composer:hover {
            border-color: var(--neon-purple);
            box-shadow: 0 0 30px rgba(168, 85, 247, 0.2);
        }

        .form-group {
            margin-bottom: 24px;
        }

        .form-label {
            display: block;
            margin-bottom: 12px;
            font-weight: 700;
            color: var(--neon-cyan);
            font-size: 1.1rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .form-input, .form-textarea, .form-select {
            width: 100%;
            padding: 16px 20px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 16px;
            color: var(--text-primary);
            font-size: 1rem;
            font-weight: 500;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .form-input:focus, .form-textarea:focus, .form-select:focus {
            outline: none;
            border-color: var(--neon-cyan);
            box-shadow: 0 0 25px rgba(0, 255, 240, 0.4);
            background: rgba(255, 255, 255, 0.15);
        }

        .form-textarea {
            resize: vertical;
            min-height: 120px;
        }

        .submit-btn {
            padding: 16px 40px;
            background: linear-gradient(135deg, var(--neon-purple), var(--neon-cyan));
            border: none;
            border-radius: 50px;
            color: var(--text-primary);
            font-weight: 700;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .submit-btn:hover {
            transform: translateY(-4px) scale(1.05);
            box-shadow: 0 20px 40px rgba(168, 85, 247, 0.5);
        }

        .messages-list {
            max-height: 400px;
            overflow-y: auto;
        }

        .message-item {
            padding: 24px;
            background: linear-gradient(135deg, rgba(0, 255, 192, 0.1), rgba(168, 85, 247, 0.1));
            border: 2px solid rgba(0, 255, 192, 0.2);
            border-radius: 20px;
            margin-bottom: 20px;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
        }

        .message-item:hover {
            border-color: var(--neon-cyan);
            box-shadow: 0 10px 30px rgba(0, 255, 192, 0.3);
            transform: translateY(-4px);
        }

        .message-author {
            font-weight: 700;
            color: var(--neon-cyan);
            margin-bottom: 12px;
            font-size: 1.2rem;
        }

        .message-text {
            line-height: 1.7;
            margin-bottom: 12px;
            font-size: 1.05rem;
        }

        .message-date {
            font-size: 0.9rem;
            color: var(--text-muted);
            font-weight: 500;
        }

        /* Enhanced Ward Info Section */
        .ward-selector {
            margin-bottom: 32px;
        }

        .ward-info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 24px;
        }

        .info-panel {
            padding: 28px;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.05), rgba(168, 85, 247, 0.05));
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .info-panel:hover {
            border-color: var(--neon-purple);
            box-shadow: 0 10px 30px rgba(168, 85, 247, 0.3);
            transform: translateY(-4px);
        }

        .panel-title {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--neon-purple);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 12px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .info-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .info-row:hover {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            padding-left: 12px;
            padding-right: 12px;
        }

        .info-row:last-child {
            border-bottom: none;
        }

        .info-label {
            color: var(--text-secondary);
            font-weight: 600;
        }

        .info-value {
            color: var(--text-primary);
            font-weight: 700;
        }

        /* Enhanced AI Insights */
        .insights-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 32px;
        }

        .insight-card {
            padding: 32px;
            background: linear-gradient(135deg, rgba(0, 255, 240, 0.1), rgba(255, 0, 255, 0.1));
            border: 2px solid rgba(0, 255, 240, 0.2);
            border-radius: 24px;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .insight-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, var(--neon-cyan), var(--neon-purple), var(--neon-pink));
            opacity: 0;
            transition: opacity 0.3s ease;
            border-radius: inherit;
            z-index: -1;
        }

        .insight-card:hover {
            transform: translateY(-8px) scale(1.02);
            border-color: var(--neon-cyan);
            box-shadow: 0 20px 50px rgba(0, 255, 240, 0.4);
        }

        .insight-card:hover::before {
            opacity: 0.1;
        }

        .insight-icon {
            font-size: 4rem;
            margin-bottom: 20px;
            background: linear-gradient(135deg, var(--neon-cyan), var(--neon-pink));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            filter: drop-shadow(0 0 20px rgba(0, 255, 240, 0.5));
        }

        .insight-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--neon-cyan);
            margin-bottom: 16px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .insight-description {
            color: var(--text-secondary);
            line-height: 1.7;
            margin-bottom: 20px;
            font-size: 1.05rem;
        }

        .insight-metric {
            font-family: 'Orbitron', monospace;
            font-size: 2.5rem;
            font-weight: 900;
            color: var(--neon-pink);
            text-shadow: 0 0 25px rgba(236, 72, 153, 0.6);
            margin-bottom: 20px;
        }

        /* Enhanced Chart Container */
        .chart-container {
            width: 100%;
            height: 250px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            margin-top: 20px;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .chart-bar {
            position: absolute;
            bottom: 0;
            background: linear-gradient(180deg, var(--neon-cyan), var(--neon-purple));
            border-radius: 8px 8px 0 0;
            transition: all 2s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 0 20px rgba(0, 255, 240, 0.6);
            animation: chartPulse 3s infinite;
        }

        @keyframes chartPulse {
            0%, 100% { box-shadow: 0 0 20px rgba(0, 255, 240, 0.6); }
            50% { box-shadow: 0 0 40px rgba(0, 255, 240, 0.9); }
        }

        /* Enhanced Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(15px);
            z-index: 10000;
            animation: modalFadeIn 0.4s ease;
        }

        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--glass-bg);
            backdrop-filter: blur(30px);
            border: 2px solid var(--glass-border);
            border-radius: 24px;
            padding: 40px;
            max-width: 600px;
            width: 90%;
            max-height: 85vh;
            overflow-y: auto;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 32px;
            padding-bottom: 16px;
            border-bottom: 2px solid rgba(255, 255, 255, 0.1);
        }

        .modal-title {
            font-size: 2rem;
            font-weight: 700;
            color: var(--neon-cyan);
            font-family: 'Orbitron', monospace;
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 2rem;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.3s ease;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .close-btn:hover {
            color: var(--neon-cyan);
            background: rgba(0, 255, 240, 0.1);
            transform: scale(1.1);
        }

        /* Enhanced Animations */
        @keyframes modalFadeIn {
            from { 
                opacity: 0;
                backdrop-filter: blur(0px);
            }
            to { 
                opacity: 1;
                backdrop-filter: blur(15px);
            }
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes glow {
            0%, 100% { 
                box-shadow: 0 0 30px rgba(0, 255, 240, 0.3);
            }
            50% { 
                box-shadow: 0 0 50px rgba(0, 255, 240, 0.7);
            }
        }

        .animate-in {
            animation: slideInUp 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards;
        }

        .glow-animation {
            animation: glow 3s infinite;
        }

        /* Notification System */
        .notification {
            position: fixed;
            top: 24px;
            right: 24px;
            padding: 20px 32px;
            border-radius: 16px;
            color: white;
            font-weight: 600;
            z-index: 10001;
            animation: slideInRight 0.4s ease;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .notification.success {
            background: linear-gradient(135deg, var(--success), var(--neon-cyan));
        }

        .notification.info {
            background: linear-gradient(135deg, var(--neon-purple), var(--neon-cyan));
        }

        .notification.error {
            background: linear-gradient(135deg, var(--error), var(--neon-pink));
        }

        @keyframes slideInRight {
            from { 
                transform: translateX(100%);
                opacity: 0;
            }
            to { 
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes slideOutRight {
            from { 
                transform: translateX(0);
                opacity: 1;
            }
            to { 
                transform: translateX(100%);
                opacity: 0;
            }
        }

        /* Responsive Design */
        @media (max-width: 1400px) {
            .main-grid {
                grid-template-columns: 1fr;
            }
            
            .insights-grid {
                grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            }
        }

        @media (max-width: 768px) {
            .portal-header {
                flex-direction: column;
                text-align: center;
                gap: 24px;
            }

            .title-section h1 {
                font-size: 2.5rem;
            }

            .stats-grid {
                grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            }

            .news-controls {
                flex-direction: column;
            }

            .ward-info-grid {
                grid-template-columns: 1fr;
            }

            .insights-grid {
                grid-template-columns: 1fr;
            }

            .modal-content {
                padding: 24px;
                margin: 20px;
                width: calc(100% - 40px);
            }
        }

        @media (max-width: 480px) {
            .portal-container {
                padding: 16px;
            }

            .section-card {
                padding: 24px;
            }

            .floating-add-btn {
                bottom: 20px;
                right: 20px;
                width: 60px;
                height: 60px;
                font-size: 1.5rem;
            }
        }

        /* Accessibility Enhancements */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        /* Focus styles */
        button:focus, input:focus, select:focus, textarea:focus {
            outline: 3px solid var(--neon-cyan);
            outline-offset: 2px;
        }

        /* High contrast mode support */
        @media (prefers-contrast: high) {
            :root {
                --glass-bg: rgba(0, 0, 0, 0.9);
                --glass-border: rgba(255, 255, 255, 0.5);
            }
        }

        /* Reduced motion support */
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        /* Loading States */
        .loading {
            opacity: 0.6;
            pointer-events: none;
            position: relative;
        }

        .loading::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 40px;
            height: 40px;
            margin: -20px 0 0 -20px;
            border: 3px solid rgba(0, 255, 240, 0.3);
            border-top: 3px solid var(--neon-cyan);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="portal-container">
        <!-- Enhanced Header -->
        <header class="portal-header glass neon-glow">
            <div class="logo-section">
                <div class="logo" aria-label="Nigam Setu Logo">NS</div>
                <div class="title-section">
                    <h1>Nigam Setu</h1>
                    <p class="subtitle">Indore Smart City Admin Portal</p>
                </div>
            </div>
            <div class="header-controls">
                <button class="control-btn" onclick="refreshDashboard()" aria-label="Refresh Dashboard">
                    🔄 Refresh
                </button>
                <button class="control-btn" onclick="exportData()" aria-label="Export Data">
                    📊 Export
                </button>
                <button class="control-btn" onclick="showSettings()" aria-label="Settings">
                    ⚙️ Settings
                </button>
            </div>
        </header>

        <!-- Enhanced Stats Grid -->
        <section class="stats-grid" aria-label="Dashboard Statistics">
            <div class="stat-card glass neon-glow neon-border animate-in">
                <div class="stat-icon">🏛️</div>
                <div class="stat-number" id="totalWards">85</div>
                <div class="stat-label">Total Wards</div>
                <div class="stat-trend">📈</div>
            </div>
            <div class="stat-card glass neon-glow neon-border animate-in" style="animation-delay: 0.1s">
                <div class="stat-icon">👥</div>
                <div class="stat-number" id="activeParshads">85</div>
                <div class="stat-label">Active Parshads</div>
                <div class="stat-trend">✅</div>
            </div>
            <div class="stat-card glass neon-glow neon-border animate-in" style="animation-delay: 0.2s">
                <div class="stat-icon">📋</div>
                <div class="stat-number" id="complaintsResolved">1,247</div>
                <div class="stat-label">Complaints Resolved</div>
                <div class="stat-trend">🚀</div>
            </div>
            <div class="stat-card glass neon-glow neon-border animate-in" style="animation-delay: 0.3s">
                <div class="stat-icon">🏗️</div>
                <div class="stat-number" id="projectsCompleted">156</div>
                <div class="stat-label">Projects Completed</div>
                <div class="stat-trend">⭐</div>
            </div>
        </section>

        <!-- Main Grid -->
        <div class="main-grid">
            <!-- Enhanced Top Performers -->
            <section class="section-card glass neon-glow neon-border">
                <h2 class="section-title">
                    🏆 Top Performer Wards
                    <span style="font-size: 1.2rem; color: var(--text-secondary);">सर्वश्रेष्ठ वार्ड</span>
                </h2>
                <div class="performers-grid" id="performersGrid">
                    <!-- Dynamic content -->
                </div>
            </section>

            <!-- Enhanced Latest News -->
            <section class="section-card glass neon-glow neon-border">
                <h2 class="section-title">
                    📰 Latest Civic News
                    <span style="font-size: 1.2rem; color: var(--text-secondary);">नवीनतम समाचार</span>
                </h2>
                <div class="news-controls">
                    <button class="add-news-btn" onclick="showAddNewsModal()">
                        ➕ Add News
                    </button>
                    <select class="form-select" style="width: auto;" onchange="filterNews(this.value)">
                        <option value="">All Wards</option>
                        <option value="1">Ward 1</option>
                        <option value="2">Ward 2</option>
                        <option value="3">Ward 3</option>
                        <option value="7">Ward 7</option>
                        <option value="15">Ward 15</option>
                        <option value="23">Ward 23</option>
                    </select>
                </div>
                <div class="news-feed" id="newsFeed">
                    <!-- Dynamic content -->
                </div>
            </section>
        </div>

        <!-- Enhanced Messages Section -->
        <section class="section-card glass neon-glow neon-border">
            <h2 class="section-title">
                💬 Parshad Messages
                <span style="font-size: 1.2rem; color: var(--text-secondary);">पार्षद संदेश</span>
            </h2>
            <div class="message-composer">
                <form id="messageForm" onsubmit="addMessage(event)">
                    <div class="form-group">
                        <label class="form-label" for="messageTitle">Message Title</label>
                        <input type="text" id="messageTitle" class="form-input" required placeholder="Enter message title...">
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="messageWard">Ward</label>
                        <select id="messageWard" class="form-select" required>
                            <option value="">Select Ward</option>
                            <option value="1">Ward 1 - Central Zone</option>
                            <option value="2">Ward 2 - North Zone</option>
                            <option value="3">Ward 3 - South Zone</option>
                            <option value="7">Ward 7 - East Zone</option>
                            <option value="15">Ward 15 - West Zone</option>
                            <option value="23">Ward 23 - Industrial Zone</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="messageText">Message</label>
                        <textarea id="messageText" class="form-textarea" required placeholder="Enter your message..."></textarea>
                    </div>
                    <button type="submit" class="submit-btn">📤 Post Message</button>
                </form>
            </div>
            <div class="messages-list" id="messagesList">
                <!-- Dynamic content -->
            </div>
        </section>

        <!-- Enhanced Ward Information -->
        <section class="section-card glass neon-glow neon-border">
            <h2 class="section-title">
                📍 Ward Information
                <span style="font-size: 1.2rem; color: var(--text-secondary);">वार्ड जानकारी</span>
            </h2>
            <div class="ward-selector">
                <select class="form-select" onchange="loadWardInfo(this.value)">
                    <option value="">Select Ward to View Details</option>
                    <option value="1">Ward 1 - Central Zone</option>
                    <option value="2">Ward 2 - North Zone</option>
                    <option value="3">Ward 3 - South Zone</option>
                    <option value="7">Ward 7 - East Zone</option>
                    <option value="15">Ward 15 - West Zone</option>
                    <option value="23">Ward 23 - Industrial Zone</option>
                </select>
            </div>
            <div class="ward-info-grid" id="wardInfoGrid">
                <div class="info-panel" style="text-align: center; color: var(--text-secondary);">
                    <div style="font-size: 4rem; margin-bottom: 20px;">🏛️</div>
                    <h3>Select a Ward</h3>
                    <p>Choose a ward from the dropdown above to view detailed information</p>
                </div>
            </div>
        </section>

        <!-- Enhanced AI Insights -->
        <section class="section-card glass neon-glow neon-border">
            <h2 class="section-title">
                🤖 AI Insights
                <span style="font-size: 1.2rem; color: var(--text-secondary);">एआई अंतर्दृष्टि</span>
            </h2>
            <div class="insights-grid" id="insightsGrid">
                <!-- Dynamic content -->
            </div>
        </section>

        <!-- Floating Add Button -->
        <button class="floating-add-btn" onclick="showAddNewsModal()" aria-label="Quick Add News">
            ➕
        </button>
    </div>

    <!-- Enhanced Add News Modal -->
    <div id="addNewsModal" class="modal">
        <div class="modal-content glass">
            <div class="modal-header">
                <h3 class="modal-title">Add New Civic News</h3>
                <button class="close-btn" onclick="closeModal('addNewsModal')" aria-label="Close Modal">&times;</button>
            </div>
            <form id="newsForm" onsubmit="addNews(event)">
                <div class="form-group">
                    <label class="form-label" for="newsTitle">News Title</label>
                    <input type="text" id="newsTitle" class="form-input" required placeholder="Enter news headline...">
                </div>
                <div class="form-group">
                    <label class="form-label" for="newsWard">Ward</label>
                    <select id="newsWard" class="form-select" required>
                        <option value="">Select Ward</option>
                        <option value="1">Ward 1 - Central Zone</option>
                        <option value="2">Ward 2 - North Zone</option>
                        <option value="3">Ward 3 - South Zone</option>
                        <option value="7">Ward 7 - East Zone</option>
                        <option value="15">Ward 15 - West Zone</option>
                        <option value="23">Ward 23 - Industrial Zone</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label" for="newsDescription">Description</label>
                    <textarea id="newsDescription" class="form-textarea" required placeholder="Enter detailed description..."></textarea>
                </div>
                <div class="form-group">
                    <label class="form-label" for="newsParshad">Parshad Name</label>
                    <input type="text" id="newsParshad" class="form-input" required placeholder="Enter Parshad name...">
                </div>
                <div class="form-group">
                    <label class="form-label" for="newsImage">Image Upload (Optional)</label>
                    <input type="file" id="newsImage" class="form-input" accept="image/*">
                </div>
                <button type="submit" class="submit-btn">📰 Publish News</button>
            </form>
        </div>
    </div>

    <script>
        // Enhanced Global Data Storage
        let dashboardData = {
            performers: [
                {
                    rank: 1,
                    ward: "Ward 7",
                    zone: "East Zone",
                    officer: "राज कुमार शर्मा",
                    score: 96.8,
                    badges: ["🏆 Excellence", "🌟 Cleanliness", "⚡ Fast Response", "💡 Innovation"]
                },
                {
                    rank: 2,
                    ward: "Ward 15",
                    zone: "West Zone",
                    officer: "सुनीता देवी",
                    score: 94.2,
                    badges: ["🥈 Quality", "💧 Water Mgmt", "🚀 Efficiency", "🌱 Green Initiative"]
                },
                {
                    rank: 3,
                    ward: "Ward 23",
                    zone: "Industrial Zone",
                    officer: "अमित कुमार",
                    score: 92.1,
                    badges: ["🥉 Performance", "🏗️ Infrastructure", "📱 Digital", "🔧 Maintenance"]
                }
            ],
            news: [
                {
                    id: 1,
                    title: "Smart Street Light Installation Completed in Sector 1",
                    ward: "1",
                    parshad: "राज कुमार शर्मा",
                    description: "Successfully installed 25 new IoT-enabled LED street lights with motion sensors and energy monitoring in Sector 1 residential area. This initiative will reduce energy consumption by 40% and improve safety.",
                    date: new Date().toISOString(),
                    status: "published",
                    image: null
                },
                {
                    id: 2,
                    title: "Community Park Renovation Project Inaugurated",
                    ward: "2",
                    parshad: "सुनीता देवी",
                    description: "Major renovation of the community park including new playground equipment, jogging track, outdoor gym, and landscaping. The project cost ₹15 lakhs and will benefit over 5,000 residents.",
                    date: new Date(Date.now() - 86400000).toISOString(),
                    status: "published",
                    image: null
                },
                {
                    id: 3,
                    title: "Digital Waste Management System Launched",
                    ward: "7",
                    parshad: "अमित कुमार",
                    description: "Introduced QR code-based waste collection tracking system. Residents can now track waste collection schedules and report issues through the mobile app.",
                    date: new Date(Date.now() - 172800000).toISOString(),
                    status: "published",
                    image: null
                }
            ],
            messages: [
                {
                    id: 1,
                    title: "Welcome to Digital Governance",
                    ward: "1",
                    author: "राज कुमार शर्मा",
                    text: "Dear residents, हमारे वार्ड में नई डिजिटल सुविधाओं का विकास जारी है। We are committed to making our ward a model for smart city initiatives. Together we can build a better future for our community.",
                    date: new Date().toISOString()
                },
                {
                    id: 2,
                    title: "Monsoon Preparedness Update",
                    ward: "2",
                    author: "सुनीता देवी",
                    text: "मानसून की तैयारी के लिए सभी नालियों की सफाई का काम पूरा हो गया है। Emergency helpline numbers have been distributed. Please keep them handy and report any waterlogging issues immediately.",
                    date: new Date(Date.now() - 3600000).toISOString()
                }
            ],
            wardInfo: {
                1: {
                    name: "Central Zone Ward 1",
                    zone: "Central Zone",
                    population: 15420,
                    area: "2.5 sq km",
                    parshad: "राज कुमार शर्मा",
                    officer: "अनिल वर्मा",
                    projects: 12,
                    complaints: 45,
                    resolution: "94.2%",
                    contact: "+91 9876543210",
                    email: "ward1@indore.gov.in"
                },
                2: {
                    name: "North Zone Ward 2",
                    zone: "North Zone",
                    population: 18750,
                    area: "3.2 sq km",
                    parshad: "सुनीता देवी",
                    officer: "प्रिया सिंह",
                    projects: 8,
                    complaints: 32,
                    resolution: "96.8%",
                    contact: "+91 9876543211",
                    email: "ward2@indore.gov.in"
                },
                3: {
                    name: "South Zone Ward 3",
                    zone: "South Zone",
                    population: 22100,
                    area: "4.1 sq km",
                    parshad: "विकास गुप्ता",
                    officer: "संजय पटेल",
                    projects: 15,
                    complaints: 28,
                    resolution: "91.5%",
                    contact: "+91 9876543212",
                    email: "ward3@indore.gov.in"
                },
                7: {
                    name: "East Zone Ward 7",
                    zone: "East Zone",
                    population: 19800,
                    area: "3.8 sq km",
                    parshad: "राज कुमार शर्मा",
                    officer: "मीरा जोशी",
                    projects: 18,
                    complaints: 22,
                    resolution: "96.8%",
                    contact: "+91 9876543217",
                    email: "ward7@indore.gov.in"
                },
                15: {
                    name: "West Zone Ward 15",
                    zone: "West Zone",
                    population: 16900,
                    area: "2.9 sq km",
                    parshad: "सुनीता देवी",
                    officer: "राहुल शर्मा",
                    projects: 11,
                    complaints: 35,
                    resolution: "94.2%",
                    contact: "+91 9876543215",
                    email: "ward15@indore.gov.in"
                },
                23: {
                    name: "Industrial Zone Ward 23",
                    zone: "Industrial Zone",
                    population: 14200,
                    area: "5.2 sq km",
                    parshad: "अमित कुमार",
                    officer: "नेहा अग्रवाल",
                    projects: 9,
                    complaints: 41,
                    resolution: "92.1%",
                    contact: "+91 9876543223",
                    email: "ward23@indore.gov.in"
                }
            },
            insights: [
                {
                    icon: "🚀",
                    title: "Fastest Resolution Champion",
                    description: "Ward 7 achieved the fastest complaint resolution time this quarter with an average of 2.3 hours per complaint",
                    metric: "96.8%",
                    trend: "up",
                    chartData: [85, 92, 96.8]
                },
                {
                    icon: "💰",
                    title: "Revenue Generation Leader",
                    description: "Ward 15 collected the highest revenue from penalties and fees, contributing significantly to municipal funds",
                    metric: "₹2.1L",
                    trend: "up",
                    chartData: [1.2, 1.8, 2.1]
                },
                {
                    icon: "🌱",
                    title: "Environmental Excellence",
                    description: "Ward 23 maintained zero plastic violations and achieved 100% waste segregation compliance for 6 consecutive months",
                    metric: "6 months",
                    trend: "stable",
                    chartData: [78, 89, 100]
                },
                {
                    icon: "⚡",
                    title: "Energy Efficiency Pioneer",
                    description: "Ward 1 reduced power consumption by 15% through smart street lighting and energy-efficient infrastructure",
                    metric: "15% ↓",
                    trend: "down",
                    chartData: [100, 92, 85]
                },
                {
                    icon: "📱",
                    title: "Digital Adoption Rate",
                    description: "Ward 2 leads in citizen app usage with 78% of residents actively using digital services for complaints and payments",
                    metric: "78%",
                    trend: "up",
                    chartData: [45, 62, 78]
                },
                {
                    icon: "🏗️",
                    title: "Infrastructure Development",
                    description: "Ward 7 completed 18 infrastructure projects this year, the highest among all wards, improving quality of life significantly",
                    metric: "18 Projects",
                    trend: "up",
                    chartData: [12, 15, 18]
                }
            ]
        };

        // Enhanced Dashboard Initialization
        function initializeDashboard() {
            loadPerformers();
            loadNews();
            loadMessages();
            loadInsights();
            animateCounters();
            
            // Add event listeners
            document.addEventListener('keydown', handleKeyboardNavigation);
            
            // Initialize tooltips and animations
            initializeAnimations();
            
            // Auto-refresh insights every 30 seconds
            setInterval(updateInsights, 30000);
        }

        // Enhanced Load Top Performers
        function loadPerformers() {
            const grid = document.getElementById('performersGrid');
            grid.innerHTML = '';
            
            dashboardData.performers.forEach((performer, index) => {
                const card = document.createElement('div');
                card.className = 'performer-card animate-in';
                card.style.animationDelay = `${index * 0.15}s`;
                
                const rankClass = `rank-${performer.rank}`;
                
                card.innerHTML = `
                    <div class="performer-rank ${rankClass}">${performer.rank}</div>
                    <div class="performer-info">
                        <h3>${performer.ward}</h3>
                        <div class="performer-officer">Officer: ${performer.officer}</div>
                        <div class="performer-score">${performer.score}% Performance Score</div>
                        <div class="performance-bar">
                            <div class="performance-fill" style="width: 0%" data-width="${performer.score}"></div>
                        </div>
                        <div class="performer-badges">
                            ${performer.badges.map(badge => `<span class="badge">${badge}</span>`).join('')}
                        </div>
                    </div>
                `;
                
                grid.appendChild(card);
                
                // Animate performance bar
                setTimeout(() => {
                    const fill = card.querySelector('.performance-fill');
                    fill.style.width = fill.dataset.width + '%';
                }, 500 + (index * 200));
            });
        }

        // Enhanced Load News
        function loadNews() {
            const feed = document.getElementById('newsFeed');
            feed.innerHTML = '';
            
            const sortedNews = dashboardData.news.sort((a, b) => new Date(b.date) - new Date(a.date));
            
            if (sortedNews.length === 0) {
                feed.innerHTML = `
                    <div style="text-align: center; padding: 40px; color: var(--text-secondary);">
                        <div style="font-size: 4rem; margin-bottom: 20px;">📰</div>
                        <h3>No News Available</h3>
                        <p>Click "Add News" to publish the first news item</p>
                    </div>
                `;
                return;
            }
            
            sortedNews.forEach((news, index) => {
                const item = document.createElement('div');
                item.className = 'news-item animate-in';
                item.style.animationDelay = `${index * 0.1}s`;
                item.dataset.ward = news.ward;
                
                item.innerHTML = `
                    <div class="news-header">
                        <div>
                            <div class="news-title">${news.title}</div>
                            <div class="news-meta">
                                <span>Ward ${news.ward}</span>
                                <span>•</span>
                                <span>${news.parshad}</span>
                                <span>•</span>
                                <span>${formatDate(news.date)}</span>
                            </div>
                        </div>
                        <div class="news-actions">
                            <button class="action-btn edit-btn" onclick="editNews(${news.id})" title="Edit News">✏️</button>
                            <button class="action-btn delete-btn" onclick="deleteNews(${news.id})" title="Delete News">🗑️</button>
                        </div>
                    </div>
                    <p>${news.description}</p>
                    ${news.image ? `<img src="${news.image}" alt="News Image" style="width: 100%; border-radius: 12px; margin-top: 16px;">` : ''}
                `;
                
                feed.appendChild(item);
            });
        }

        // Enhanced Load Messages
        function loadMessages() {
            const list = document.getElementById('messagesList');
            list.innerHTML = '';
            
            const sortedMessages = dashboardData.messages.sort((a, b) => new Date(b.date) - new Date(a.date));
            
            if (sortedMessages.length === 0) {
                list.innerHTML = `
                    <div style="text-align: center; padding: 40px; color: var(--text-secondary);">
                        <div style="font-size: 4rem; margin-bottom: 20px;">💬</div>
                        <h3>No Messages</h3>
                        <p>Post the first message using the form above</p>
                    </div>
                `;
                return;
            }
            
            sortedMessages.forEach((message, index) => {
                const item = document.createElement('div');
                item.className = 'message-item animate-in';
                item.style.animationDelay = `${index * 0.1}s`;
                
                item.innerHTML = `
                    <div class="message-author">${message.author} - Ward ${message.ward}</div>
                    <h4 style="color: var(--neon-purple); margin-bottom: 12px; font-size: 1.1rem;">${message.title}</h4>
                    <div class="message-text">${message.text}</div>
                    <div class="message-date">${formatDate(message.date)}</div>
                `;
                
                list.appendChild(item);
            });
        }

        // Enhanced Load Ward Information
        function loadWardInfo(wardId) {
            if (!wardId) {
                document.getElementById('wardInfoGrid').innerHTML = `
                    <div class="info-panel" style="text-align: center; color: var(--text-secondary);">
                        <div style="font-size: 4rem; margin-bottom: 20px;">🏛️</div>
                        <h3>Select a Ward</h3>
                        <p>Choose a ward from the dropdown above to view detailed information</p>
                    </div>
                `;
                return;
            }
            
            const grid = document.getElementById('wardInfoGrid');
            const ward = dashboardData.wardInfo[wardId];
            
            if (!ward) {
                showNotification('Ward information not found', 'error');
                return;
            }
            
            grid.innerHTML = `
                <div class="info-panel animate-in">
                    <div class="panel-title">🏛️ Basic Information</div>
                    <div class="info-row">
                        <span class="info-label">Ward Name:</span>
                        <span class="info-value">${ward.name}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Zone:</span>
                        <span class="info-value">${ward.zone}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Population:</span>
                        <span class="info-value">${ward.population.toLocaleString()}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Area:</span>
                        <span class="info-value">${ward.area}</span>
                    </div>
                </div>
                
                <div class="info-panel animate-in" style="animation-delay: 0.1s">
                    <div class="panel-title">👥 Officials</div>
                    <div class="info-row">
                        <span class="info-label">Parshad:</span>
                        <span class="info-value">${ward.parshad}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Ward Officer:</span>
                        <span class="info-value">${ward.officer}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Contact:</span>
                        <span class="info-value">${ward.contact}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Email:</span>
                        <span class="info-value">${ward.email}</span>
                    </div>
                </div>
                
                <div class="info-panel animate-in" style="animation-delay: 0.2s">
                    <div class="panel-title">📊 Performance Metrics</div>
                    <div class="info-row">
                        <span class="info-label">Active Projects:</span>
                        <span class="info-value">${ward.projects}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Pending Complaints:</span>
                        <span class="info-value">${ward.complaints}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Resolution Rate:</span>
                        <span class="info-value">${ward.resolution}</span>
                    </div>
                </div>
            `;
        }

        // Enhanced Load AI Insights
        function loadInsights() {
            const grid = document.getElementById('insightsGrid');
            grid.innerHTML = '';
            
            dashboardData.insights.forEach((insight, index) => {
                const card = document.createElement('div');
                card.className = 'insight-card animate-in';
                card.style.animationDelay = `${index * 0.1}s`;
                
                card.innerHTML = `
                    <div class="insight-icon">${insight.icon}</div>
                    <div class="insight-title">${insight.title}</div>
                    <div class="insight-description">${insight.description}</div>
                    <div class="insight-metric">${insight.metric}</div>
                    <div class="chart-container">
                        ${generateChart(insight.chartData)}
                    </div>
                `;
                
                grid.appendChild(card);
            });
        }

        // Generate Chart Visualization
        function generateChart(data) {
            if (!data || data.length === 0) return '';
            
            const maxValue = Math.max(...data);
            const bars = data.map((value, index) => {
                const height = (value / maxValue) * 80 + 20;
                const width = 80 / data.length - 10;
                const left = (index * (100 / data.length)) + 5;
                
                return `<div class="chart-bar" style="width: ${width}%; left: ${left}%; height: ${height}%"></div>`;
            }).join('');
            
            return bars;
        }

        // Enhanced Add News
        function addNews(event) {
            event.preventDefault();
            
            const form = event.target;
            const imageFile = document.getElementById('newsImage').files[0];
            
            // Show loading state
            const submitBtn = form.querySelector('.submit-btn');
            const originalText = submitBtn.textContent;
            submitBtn.textContent = 'Publishing...';
            submitBtn.disabled = true;
            
            // Simulate image upload (in real app, this would upload to server)
            let imageUrl = null;
            if (imageFile) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    imageUrl = e.target.result;
                    saveNews();
                };
                reader.readAsDataURL(imageFile);
            } else {
                saveNews();
            }
            
            function saveNews() {
                const news = {
                    id: Date.now(),
                    title: document.getElementById('newsTitle').value,
                    ward: document.getElementById('newsWard').value,
                    parshad: document.getElementById('newsParshad').value,
                    description: document.getElementById('newsDescription').value,
                    date: new Date().toISOString(),
                    status: 'published',
                    image: imageUrl
                };
                
                dashboardData.news.unshift(news);
                
                setTimeout(() => {
                    loadNews();
                    closeModal('addNewsModal');
                    form.reset();
                    
                    submitBtn.textContent = originalText;
                    submitBtn.disabled = false;
                    
                    showNotification('News published successfully!', 'success');
                }, 1000);
            }
        }

        // Enhanced Add Message
        function addMessage(event) {
            event.preventDefault();
            
            const form = event.target;
            const submitBtn = form.querySelector('.submit-btn');
            const originalText = submitBtn.textContent;
            
            // Show loading state
            submitBtn.textContent = 'Posting...';
            submitBtn.disabled = true;
            
            const wardId = document.getElementById('messageWard').value;
            const wardInfo = dashboardData.wardInfo[wardId];
            const authorName = wardInfo ? wardInfo.parshad : `Ward ${wardId} Parshad`;
            
            const message = {
                id: Date.now(),
                title: document.getElementById('messageTitle').value,
                ward: wardId,
                author: authorName,
                text: document.getElementById('messageText').value,
                date: new Date().toISOString()
            };
            
            setTimeout(() => {
                dashboardData.messages.unshift(message);
                loadMessages();
                form.reset();
                
                submitBtn.textContent = originalText;
                submitBtn.disabled = false;
                
                showNotification('Message posted successfully!', 'success');
            }, 800);
        }

        // Enhanced Delete News
        function deleteNews(id) {
            if (confirm('Are you sure you want to delete this news item? This action cannot be undone.')) {
                dashboardData.news = dashboardData.news.filter(news => news.id !== id);
                loadNews();
                showNotification('News deleted successfully!', 'success');
            }
        }

        // Enhanced Edit News
        function editNews(id) {
            const news = dashboardData.news.find(n => n.id === id);
            if (news) {
                // Populate edit form
                document.getElementById('newsTitle').value = news.title;
                document.getElementById('newsWard').value = news.ward;
                document.getElementById('newsParshad').value = news.parshad;
                document.getElementById('newsDescription').value = news.description;
                
                // Change modal title
                document.querySelector('.modal-title').textContent = 'Edit News';
                
                // Remove old news item when saving
                const form = document.getElementById('newsForm');
                form.onsubmit = function(event) {
                    event.preventDefault();
                    deleteNews(id);
                    addNews(event);
                    document.querySelector('.modal-title').textContent = 'Add New Civic News';
                    form.onsubmit = addNews;
                };
                
                showModal('addNewsModal');
            }
        }

        // Enhanced Filter News
        function filterNews(wardId) {
            const items = document.querySelectorAll('.news-item');
            items.forEach(item => {
                const newsWard = item.dataset.ward;
                if (!wardId || newsWard === wardId) {
                    item.style.display = 'block';
                    item.style.animation = 'slideInUp 0.4s ease forwards';
                } else {
                    item.style.display = 'none';
                }
            });
            
            const visibleItems = Array.from(items).filter(item => item.style.display !== 'none');
            if (visibleItems.length === 0 && wardId) {
                document.getElementById('newsFeed').innerHTML = `
                    <div style="text-align: center; padding: 40px; color: var(--text-secondary);">
                        <div style="font-size: 4rem; margin-bottom: 20px;">🔍</div>
                        <h3>No News Found</h3>
                        <p>No news items found for Ward ${wardId}</p>
                    </div>
                `;
            } else if (wardId === '') {
                loadNews();
            }
        }

        // Modal Functions
        function showModal(modalId) {
            const modal = document.getElementById(modalId);
            modal.style.display = 'block';
            document.body.style.overflow = 'hidden';
            
            // Focus first input
            setTimeout(() => {
                const firstInput = modal.querySelector('input, textarea, select');
                if (firstInput) firstInput.focus();
            }, 100);
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        function showAddNewsModal() {
            // Reset form
            document.getElementById('newsForm').reset();
            document.querySelector('.modal-title').textContent = 'Add New Civic News';
            document.getElementById('newsForm').onsubmit = addNews;
            showModal('addNewsModal');
        }

        // Enhanced Utility Functions
        function formatDate(dateString) {
            const date = new Date(dateString);
            const now = new Date();
            const diffTime = Math.abs(now - date);
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            
            if (diffDays === 1) {
                return 'Today, ' + date.toLocaleTimeString('en-IN', { 
                    hour: '2-digit', 
                    minute: '2-digit' 
                });
            } else if (diffDays === 2) {
                return 'Yesterday, ' + date.toLocaleTimeString('en-IN', { 
                    hour: '2-digit', 
                    minute: '2-digit' 
                });
            } else {
                return date.toLocaleDateString('en-IN', {
                    year: 'numeric',
                    month: 'short',
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                });
            }
        }

        function animateCounters() {
            const counters = document.querySelectorAll('.stat-number');
            counters.forEach((counter, index) => {
                const target = parseInt(counter.textContent.replace(/,/g, ''));
                let current = 0;
                const increment = target / 60;
                
                setTimeout(() => {
                    const timer = setInterval(() => {
                        current += increment;
                        if (current >= target) {
                            counter.textContent = target.toLocaleString();
                            clearInterval(timer);
                        } else {
                            counter.textContent = Math.floor(current).toLocaleString();
                        }
                    }, 50);
                }, index * 200);
            });
        }

        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideOutRight 0.4s ease forwards';
                setTimeout(() => notification.remove(), 400);
            }, 4000);
        }

        // Enhanced Dashboard Actions
        function refreshDashboard() {
            showNotification('Refreshing dashboard...', 'info');
            
            // Add loading states
            const cards = document.querySelectorAll('.section-card, .stat-card');
            cards.forEach(card => card.classList.add('loading'));
            
            setTimeout(() => {
                loadPerformers();
                loadNews();
                loadMessages();
                loadInsights();
                animateCounters();
                
                cards.forEach(card => card.classList.remove('loading'));
                showNotification('Dashboard refreshed successfully!', 'success');
            }, 2000);
        }

        function exportData() {
            const data = {
                ...dashboardData,
                exportDate: new Date().toISOString(),
                version: '2.0'
            };
            
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `nigam-setu-data-${new Date().toISOString().split('T')[0]}.json`;
            a.click();
            URL.revokeObjectURL(url);
            
            showNotification('Data exported successfully!', 'success');
        }

        function showSettings() {
            showNotification('Advanced settings panel coming soon!', 'info');
        }

        // Initialize Animations
        function initializeAnimations() {
            // Intersection Observer for scroll animations
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            });
            
            document.querySelectorAll('.animate-in').forEach(el => {
                observer.observe(el);
            });
        }

        // Update Insights (simulated real-time updates)
        function updateInsights() {
            const insights = document.querySelectorAll('.insight-metric');
            insights.forEach(metric => {
                // Add subtle glow animation
                metric.style.animation = 'glow 1s ease-in-out';
                setTimeout(() => {
                    metric.style.animation = '';
                }, 1000);
            });
        }

        // Keyboard Navigation
        function handleKeyboardNavigation(event) {
            if (event.key === 'Escape') {
                const modals = document.querySelectorAll('.modal');
                modals.forEach(modal => {
                    if (modal.style.display === 'block') {
                        closeModal(modal.id);
                    }
                });
            }
            
            // Quick actions
            if (event.ctrlKey || event.metaKey) {
                switch(event.key) {
                    case 'n':
                        event.preventDefault();
                        showAddNewsModal();
                        break;
                    case 'r':
                        event.preventDefault();
                        refreshDashboard();
                        break;
                    case 'e':
                        event.preventDefault();
                        exportData();
                        break;
                }
            }
        }

        // Click outside modal to close
        window.onclick = function(event) {
            if (event.target.classList.contains('modal')) {
                closeModal(event.target.id);
            }
        }

        // Initialize dashboard when DOM is loaded
        document.addEventListener('DOMContentLoaded', initializeDashboard);

        // Service Worker Registration (for PWA capabilities)
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => console.log('SW registered'))
                    .catch(error => console.log('SW registration failed'));
            });
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9703a4e7c376a744',t:'MTc1NTM3NTc1MS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
