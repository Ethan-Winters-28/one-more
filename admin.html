<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nigam Setu - Admin Dashboard</title>
    
    <!-- External CDNs -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    
    <style>
        :root {
            --primary-bg: #0f1419;
            --secondary-bg: #1a1f2e;
            --card-bg: #252d3d;
            --text-primary: #ffffff;
            --text-secondary: #94a3b8;
            --accent-green: #00ff88;
            --accent-blue: #0ea5e9;
            --accent-yellow: #fbbf24;
            --accent-red: #ef4444;
            --border-color: #334155;
            --glow-green: rgba(0, 255, 136, 0.3);
            --glow-blue: rgba(14, 165, 233, 0.3);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, var(--primary-bg) 0%, #1e293b 100%);
            color: var(--text-primary);
            overflow-x: hidden;
        }

        /* Sidebar Styles */
        .sidebar {
            position: fixed;
            top: 0;
            left: 0;
            height: 100vh;
            width: 280px;
            background: linear-gradient(180deg, var(--secondary-bg) 0%, var(--card-bg) 100%);
            border-right: 1px solid var(--border-color);
            z-index: 1000;
            transition: all 0.3s ease;
            overflow-y: auto;
            overflow-x: hidden;
            box-shadow: 4px 0 20px rgba(0, 0, 0, 0.3);
        }

        .sidebar-header {
            padding: 25px 20px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            gap: 15px;
            background: linear-gradient(135deg, var(--accent-green), var(--accent-blue));
            margin: 0;
        }

        .logo {
            width: 50px;
            height: 50px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 900;
            font-size: 20px;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .sidebar-header h5 {
            color: white;
            font-weight: 800;
            font-size: 18px;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .sidebar-header small {
            color: rgba(255, 255, 255, 0.8);
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .sidebar-nav {
            padding: 25px 0;
            padding-bottom: 50px;
        }

        /* Custom scrollbar for sidebar */
        .sidebar::-webkit-scrollbar {
            width: 6px;
        }

        .sidebar::-webkit-scrollbar-track {
            background: var(--secondary-bg);
        }

        .sidebar::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, var(--accent-green), var(--accent-blue));
            border-radius: 3px;
        }

        .sidebar::-webkit-scrollbar-thumb:hover {
            background: var(--accent-green);
        }

        .nav-item {
            padding: 15px 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            border-left: 3px solid transparent;
            display: flex;
            align-items: center;
            gap: 15px;
            margin: 2px 0;
            position: relative;
        }

        .nav-item:hover {
            background: linear-gradient(90deg, var(--glow-green), transparent);
            border-left-color: var(--accent-green);
            transform: translateX(5px);
            box-shadow: 0 4px 15px var(--glow-green);
        }

        .nav-item.active {
            background: linear-gradient(90deg, var(--glow-green), transparent);
            border-left-color: var(--accent-green);
            color: var(--accent-green);
            font-weight: 600;
            box-shadow: 0 4px 15px var(--glow-green);
        }

        .nav-item i {
            width: 22px;
            text-align: center;
            font-size: 16px;
        }

        /* Main Content */
        .main-content {
            margin-left: 280px;
            min-height: 100vh;
            background: var(--primary-bg);
        }

        /* Top Navbar */
        .top-navbar {
            background: linear-gradient(135deg, var(--secondary-bg), var(--card-bg));
            border-bottom: 1px solid var(--border-color);
            padding: 20px 35px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 30px;
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(10px);
        }

        .navbar-brand {
            display: flex;
            align-items: center;
            gap: 18px;
        }

        .navbar-logo {
            width: 55px;
            height: 55px;
            border-radius: 15px;
            object-fit: cover;
            box-shadow: 0 8px 25px var(--glow-green);
            border: 3px solid var(--accent-green);
            transition: all 0.3s ease;
        }

        .navbar-logo:hover {
            transform: scale(1.05);
            box-shadow: 0 12px 35px var(--glow-green);
        }

        .brand-text {
            display: flex;
            flex-direction: column;
        }

        .brand-title {
            font-size: 24px;
            font-weight: 900;
            color: var(--text-primary);
            margin: 0;
            background: linear-gradient(135deg, var(--accent-green), var(--accent-blue));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 0 30px var(--glow-green);
        }

        .brand-subtitle {
            font-size: 12px;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 2px;
            margin: 0;
            font-weight: 600;
        }

        .search-box {
            flex: 1;
            max-width: 600px;
            position: relative;
        }

        .search-box input {
            width: 100%;
            background: var(--card-bg);
            border: 2px solid var(--border-color);
            border-radius: 30px;
            padding: 15px 60px 15px 25px;
            color: var(--text-primary);
            font-size: 15px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(10px);
        }

        .search-box input:focus {
            outline: none;
            border-color: var(--accent-green);
            box-shadow: 0 0 0 4px var(--glow-green), 0 8px 30px rgba(0, 0, 0, 0.3);
            background: var(--primary-bg);
            transform: translateY(-2px);
        }

        .search-box input::placeholder {
            color: var(--text-secondary);
            font-weight: 500;
        }

        .search-box i {
            position: absolute;
            right: 22px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-secondary);
            font-size: 18px;
            transition: all 0.3s ease;
        }

        .search-box:hover i {
            color: var(--accent-green);
            transform: translateY(-50%) scale(1.1);
        }

        .navbar-actions {
            display: flex;
            align-items: center;
            gap: 25px;
        }



        .profile-info {
            display: flex;
            align-items: center;
            gap: 15px;
            cursor: pointer;
            padding: 10px 15px;
            border-radius: 20px;
            transition: all 0.3s ease;
            background: var(--card-bg);
            border: 1px solid var(--border-color);
        }

        .profile-info:hover {
            background: linear-gradient(135deg, var(--glow-green), var(--glow-blue));
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(0, 255, 136, 0.2);
        }

        .profile-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--accent-green), var(--accent-blue));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 900;
            font-size: 20px;
            box-shadow: 0 6px 20px var(--glow-green);
        }

        .profile-text {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }

        .profile-name {
            font-weight: 700;
            font-size: 16px;
            color: var(--text-primary);
            line-height: 1.2;
        }

        .profile-role {
            font-size: 12px;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 600;
        }

        /* Dashboard Content */
        .dashboard-content {
            padding: 35px;
        }

        .page-header {
            margin-bottom: 35px;
        }

        .page-title {
            font-size: 32px;
            font-weight: 800;
            margin-bottom: 10px;
            background: linear-gradient(135deg, var(--accent-green), var(--accent-blue));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .page-subtitle {
            color: var(--text-secondary);
            font-size: 16px;
            font-weight: 500;
        }

        /* Summary Cards */
        .summary-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
            gap: 25px;
            margin-bottom: 35px;
        }

        .summary-card {
            background: linear-gradient(135deg, var(--card-bg), var(--secondary-bg));
            border-radius: 20px;
            padding: 30px;
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .summary-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--accent-green), var(--accent-blue));
        }

        .summary-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 40px rgba(0, 255, 136, 0.15);
            border-color: var(--accent-green);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .card-title {
            font-size: 15px;
            color: var(--text-secondary);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .card-icon {
            width: 50px;
            height: 50px;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 22px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
        }

        .card-value {
            font-size: 38px;
            font-weight: 900;
            margin-bottom: 12px;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .card-change {
            font-size: 13px;
            display: flex;
            align-items: center;
            gap: 6px;
            font-weight: 600;
        }

        .text-success { color: var(--accent-green); }
        .text-warning { color: var(--accent-yellow); }
        .text-danger { color: var(--accent-red); }
        .text-info { color: var(--accent-blue); }

        .bg-success { background: rgba(0, 255, 136, 0.15); color: var(--accent-green); }
        .bg-warning { background: rgba(251, 191, 36, 0.15); color: var(--accent-yellow); }
        .bg-danger { background: rgba(239, 68, 68, 0.15); color: var(--accent-red); }
        .bg-info { background: rgba(14, 165, 233, 0.15); color: var(--accent-blue); }

        /* Charts Section */
        .charts-section {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 25px;
            margin-bottom: 35px;
        }

        .chart-card {
            background: linear-gradient(135deg, var(--card-bg), var(--secondary-bg));
            border-radius: 20px;
            padding: 30px;
            border: 1px solid var(--border-color);
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);
        }

        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }

        .chart-title {
            font-size: 20px;
            font-weight: 700;
            color: var(--text-primary);
        }

        .chart-container {
            position: relative;
            height: 300px;
        }

        /* Map Section */
        .map-section {
            background: linear-gradient(135deg, var(--card-bg), var(--secondary-bg));
            border-radius: 20px;
            padding: 30px;
            border: 1px solid var(--border-color);
            margin-bottom: 35px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);
        }

        #map {
            height: 400px;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }

        /* Table Section */
        .table-section {
            background: linear-gradient(135deg, var(--card-bg), var(--secondary-bg));
            border-radius: 20px;
            padding: 30px;
            border: 1px solid var(--border-color);
            margin-bottom: 35px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
        }

        .table-container {
            max-height: 600px;
            overflow-y: auto;
            overflow-x: auto;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
            position: relative;
        }

        .table-scroll-wrapper {
            overflow-x: auto;
            overflow-y: visible;
            max-width: 100%;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .table-container::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        .table-container::-webkit-scrollbar-track {
            background: var(--secondary-bg);
            border-radius: 4px;
        }

        .table-container::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, var(--accent-green), var(--accent-blue));
            border-radius: 4px;
        }

        .table-container::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-green));
        }

        .table-container::-webkit-scrollbar-corner {
            background: var(--secondary-bg);
        }

        .table-scroll-wrapper::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        .table-scroll-wrapper::-webkit-scrollbar-track {
            background: var(--secondary-bg);
            border-radius: 4px;
        }

        .table-scroll-wrapper::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, var(--accent-green), var(--accent-blue));
            border-radius: 4px;
        }

        .table-scroll-wrapper::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-green));
        }

        .table-scroll-wrapper::-webkit-scrollbar-corner {
            background: var(--secondary-bg);
        }

        .table-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--accent-green), var(--accent-blue), var(--accent-yellow));
        }

        .table-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            flex-wrap: wrap;
            gap: 20px;
        }

        .table-header h3 {
            font-size: 22px;
            font-weight: 700;
            color: var(--text-primary);
        }

        .table-filters {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .filter-select {
            background: var(--primary-bg);
            border: 2px solid var(--border-color);
            border-radius: 10px;
            padding: 10px 15px;
            color: var(--text-primary);
            min-width: 140px;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .filter-select:focus {
            outline: none;
            border-color: var(--accent-green);
            box-shadow: 0 0 0 3px var(--glow-green);
        }

        .reset-filters-btn {
            background: linear-gradient(135deg, var(--accent-red), #dc2626);
            color: white;
            border: none;
            border-radius: 10px;
            padding: 10px 20px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            box-shadow: 0 4px 15px rgba(239, 68, 68, 0.3);
        }

        .reset-filters-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(239, 68, 68, 0.4);
            background: linear-gradient(135deg, #dc2626, var(--accent-red));
        }

        .reset-filters-btn:active {
            transform: translateY(0);
        }

        .table-responsive {
            border-radius: 15px;
            overflow: visible;
            width: 100%;
            min-width: 100%;
        }

        .custom-table {
            background: var(--card-bg);
            color: var(--text-primary);
            margin: 0;
            width: 100%;
            min-width: 2000px;
            table-layout: auto;
            white-space: nowrap;
        }

        .custom-table th {
            background: var(--primary-bg);
            border-color: var(--border-color);
            color: var(--text-secondary);
            font-weight: 700;
            font-size: 13px;
            text-transform: uppercase;
            letter-spacing: 1px;
            padding: 18px 15px;
        }

        .custom-table td {
            border-color: var(--border-color);
            padding: 18px 15px;
            vertical-align: middle;
            font-weight: 500;
            white-space: normal;
            word-wrap: break-word;
        }

        .custom-table tbody tr:hover {
            background: rgba(0, 255, 136, 0.05);
            transform: scale(1.01);
        }

        /* Enhanced Table Styling */
        .complaint-row {
            transition: all 0.3s ease;
            border-left: 4px solid transparent;
        }

        .complaint-row:hover {
            background: linear-gradient(90deg, rgba(0, 255, 136, 0.1), rgba(14, 165, 233, 0.05));
            border-left-color: var(--accent-green);
            transform: translateX(5px);
            box-shadow: 0 8px 25px rgba(0, 255, 136, 0.15);
        }

        .serial-number {
            text-align: center;
            padding: 15px 10px !important;
        }

        .serial-badge {
            width: 35px;
            height: 35px;
            background: linear-gradient(135deg, var(--accent-green), var(--accent-blue));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 900;
            font-size: 14px;
            margin: 0 auto;
            box-shadow: 0 4px 15px rgba(0, 255, 136, 0.3);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { box-shadow: 0 4px 15px rgba(0, 255, 136, 0.3); }
            50% { box-shadow: 0 6px 20px rgba(0, 255, 136, 0.5); }
            100% { box-shadow: 0 4px 15px rgba(0, 255, 136, 0.3); }
        }

        .complaint-id {
            background: linear-gradient(135deg, var(--accent-green), var(--accent-blue));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-size: 16px;
            font-weight: 800;
            text-shadow: 0 0 20px var(--glow-green);
        }

        .citizen-info {
            display: flex;
            align-items: center;
            gap: 12px;
            white-space: nowrap;
        }

        .citizen-avatar {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-green));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 900;
            font-size: 16px;
            box-shadow: 0 4px 15px rgba(14, 165, 233, 0.3);
        }

        .officer-info {
            display: flex;
            align-items: center;
            gap: 10px;
            white-space: nowrap;
        }

        .officer-avatar {
            width: 35px;
            height: 35px;
            background: linear-gradient(135deg, var(--accent-yellow), var(--accent-green));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 900;
            font-size: 12px;
            box-shadow: 0 4px 15px rgba(251, 191, 36, 0.3);
        }

        .type-badge, .dept-badge, .assigned-dept {
            padding: 8px 15px;
            border-radius: 25px;
            font-size: 12px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            display: inline-block;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .type-infrastructure { background: rgba(14, 165, 233, 0.2); color: var(--accent-blue); }
        .type-service { background: rgba(0, 255, 136, 0.2); color: var(--accent-green); }
        .type-maintenance { background: rgba(251, 191, 36, 0.2); color: var(--accent-yellow); }

        .dept-lighting { background: rgba(251, 191, 36, 0.2); color: var(--accent-yellow); }
        .dept-water { background: rgba(14, 165, 233, 0.2); color: var(--accent-blue); }
        .dept-sewerage { background: rgba(139, 92, 246, 0.2); color: #8b5cf6; }
        .dept-health { background: rgba(0, 255, 136, 0.2); color: var(--accent-green); }
        .dept-stray-animals { background: rgba(239, 68, 68, 0.2); color: var(--accent-red); }
        .dept-public-works { background: rgba(251, 191, 36, 0.2); color: var(--accent-yellow); }

        .date-cell {
            font-weight: 600;
            color: var(--text-secondary);
        }

        .sla-cell {
            font-weight: 700;
            padding: 8px 12px;
            border-radius: 15px;
            text-align: center;
        }

        .sla-good { background: rgba(0, 255, 136, 0.2); color: var(--accent-green); }
        .sla-warning { background: rgba(251, 191, 36, 0.2); color: var(--accent-yellow); }
        .sla-overdue { background: rgba(239, 68, 68, 0.2); color: var(--accent-red); }
        .sla-completed { background: rgba(0, 255, 136, 0.2); color: var(--accent-green); }

        .actions-cell {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .status-badge {
            padding: 6px 15px;
            border-radius: 25px;
            font-size: 11px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .status-resolved { background: rgba(0, 255, 136, 0.2); color: var(--accent-green); }
        .status-pending { background: rgba(251, 191, 36, 0.2); color: var(--accent-yellow); }
        .status-escalated { background: rgba(239, 68, 68, 0.2); color: var(--accent-red); }

        /* Action Buttons */
        .action-btn {
            padding: 8px 15px;
            border-radius: 8px;
            border: none;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-right: 8px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .btn-assign {
            background: var(--accent-blue);
            color: white;
        }

        .btn-forward {
            background: var(--accent-yellow);
            color: var(--primary-bg);
        }

        .btn-close {
            background: var(--accent-green);
            color: white;
        }

        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }

        .details-btn {
            background: linear-gradient(135deg, var(--accent-blue), #0284c7);
            color: white;
            border: none;
            border-radius: 8px;
            padding: 8px 15px;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 6px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            box-shadow: 0 4px 15px rgba(14, 165, 233, 0.3);
        }

        .details-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(14, 165, 233, 0.4);
            background: linear-gradient(135deg, #0284c7, var(--accent-blue));
        }

        .details-cell {
            text-align: center;
            padding: 15px 10px !important;
        }

        /* Feedback Section */
        .feedback-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 25px;
        }

        .feedback-card {
            background: linear-gradient(135deg, var(--card-bg), var(--secondary-bg));
            border-radius: 20px;
            padding: 25px;
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
        }

        .feedback-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 255, 136, 0.1);
        }

        .feedback-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .rating {
            color: var(--accent-yellow);
        }

        .feedback-text {
            color: var(--text-secondary);
            font-size: 15px;
            line-height: 1.6;
            margin-bottom: 15px;
            font-weight: 500;
        }

        .feedback-meta {
            font-size: 12px;
            color: var(--text-secondary);
            font-weight: 600;
        }



        /* Hidden sections */
        .content-section {
            display: none;
        }

        .content-section.active {
            display: block;
        }

        /* Complaint Details Modal */
        .complaint-modal {
            display: none;
            position: fixed;
            z-index: 10000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
        }

        .modal-content {
            background: linear-gradient(135deg, var(--card-bg), var(--secondary-bg));
            margin: 2% auto;
            padding: 0;
            border-radius: 20px;
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            border: 1px solid var(--border-color);
            animation: modalSlideIn 0.3s ease;
        }

        @keyframes modalSlideIn {
            from {
                transform: translateY(-50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .modal-header {
            background: linear-gradient(135deg, var(--accent-green), var(--accent-blue));
            padding: 25px 30px;
            border-radius: 20px 20px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-title {
            color: white;
            font-size: 24px;
            font-weight: 800;
            margin: 0;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .close-btn {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            font-size: 24px;
            font-weight: bold;
            cursor: pointer;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .close-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }

        .modal-body {
            padding: 30px;
        }

        .detail-section {
            margin-bottom: 25px;
            background: var(--primary-bg);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid var(--border-color);
        }

        .detail-section h4 {
            color: var(--accent-green);
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .detail-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }

        .detail-item {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .detail-label {
            font-size: 12px;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 600;
        }

        .detail-value {
            color: var(--text-primary);
            font-weight: 600;
            font-size: 14px;
        }

        .complaint-description {
            background: var(--secondary-bg);
            border-radius: 10px;
            padding: 15px;
            border-left: 4px solid var(--accent-green);
            margin-top: 15px;
        }

        .timeline {
            position: relative;
            padding-left: 30px;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 15px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: linear-gradient(180deg, var(--accent-green), var(--accent-blue));
        }

        .timeline-item {
            position: relative;
            margin-bottom: 20px;
            background: var(--primary-bg);
            border-radius: 10px;
            padding: 15px;
            border: 1px solid var(--border-color);
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -22px;
            top: 20px;
            width: 12px;
            height: 12px;
            background: var(--accent-green);
            border-radius: 50%;
            border: 3px solid var(--card-bg);
        }

        .timeline-date {
            font-size: 12px;
            color: var(--text-secondary);
            font-weight: 600;
        }

        .timeline-content {
            color: var(--text-primary);
            margin-top: 5px;
            font-weight: 500;
        }

        /* Analytics Section Styles */
        .analytics-filter-section {
            margin-bottom: 30px;
        }

        .filter-card {
            background: linear-gradient(135deg, var(--card-bg), var(--secondary-bg));
            border-radius: 20px;
            padding: 25px;
            border: 1px solid var(--border-color);
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);
        }

        .filter-card h3 {
            color: var(--text-primary);
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .analytics-department-filter {
            width: 100%;
            background: var(--primary-bg);
            border: 2px solid var(--border-color);
            border-radius: 15px;
            padding: 15px 20px;
            color: var(--text-primary);
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .analytics-department-filter:focus {
            outline: none;
            border-color: var(--accent-green);
            box-shadow: 0 0 0 4px var(--glow-green);
            background: var(--card-bg);
        }

        /* Analytics Overview */
        .analytics-overview {
            margin-bottom: 35px;
        }

        .overview-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
        }

        .overview-card {
            background: linear-gradient(135deg, var(--card-bg), var(--secondary-bg));
            border-radius: 20px;
            padding: 30px;
            border: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            gap: 20px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .overview-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--accent-green), var(--accent-blue));
        }

        .overview-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 40px rgba(0, 255, 136, 0.15);
        }

        .overview-icon {
            font-size: 48px;
            width: 80px;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, var(--accent-green), var(--accent-blue));
            border-radius: 20px;
            box-shadow: 0 8px 25px rgba(0, 255, 136, 0.3);
        }

        .overview-content {
            flex: 1;
        }

        .overview-number {
            font-size: 42px;
            font-weight: 900;
            color: var(--text-primary);
            margin-bottom: 8px;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .overview-label {
            font-size: 16px;
            color: var(--text-secondary);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 8px;
        }

        .overview-trend {
            font-size: 14px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .overview-trend.positive {
            color: var(--accent-green);
        }

        .overview-trend.negative {
            color: var(--accent-red);
        }

        /* Analytics Main Grid */
        .analytics-main-grid {
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            gap: 25px;
            margin-bottom: 35px;
        }

        .analytics-card {
            background: linear-gradient(135deg, var(--card-bg), var(--secondary-bg));
            border-radius: 20px;
            padding: 25px;
            border: 1px solid var(--border-color);
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
        }

        .analytics-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 255, 136, 0.1);
        }

        .large-card {
            grid-column: span 8;
        }

        .medium-card {
            grid-column: span 6;
        }

        .small-card {
            grid-column: span 4;
        }

        .analytics-card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .analytics-card-header h3 {
            color: var(--text-primary);
            font-size: 18px;
            font-weight: 700;
            margin: 0;
        }

        .chart-controls {
            display: flex;
            gap: 8px;
        }

        .chart-control-btn {
            background: var(--primary-bg);
            border: 1px solid var(--border-color);
            color: var(--text-secondary);
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .chart-control-btn.active,
        .chart-control-btn:hover {
            background: var(--accent-green);
            color: white;
            border-color: var(--accent-green);
            box-shadow: 0 4px 15px rgba(0, 255, 136, 0.3);
        }

        .analytics-chart-container {
            position: relative;
            height: 300px;
        }

        /* Department Specific Analytics */
        .department-specific-analytics {
            margin-bottom: 35px;
        }

        .dept-analytics {
            background: linear-gradient(135deg, var(--card-bg), var(--secondary-bg));
            border-radius: 20px;
            padding: 30px;
            border: 1px solid var(--border-color);
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);
        }

        .dept-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .dept-header h2 {
            color: var(--text-primary);
            font-size: 28px;
            font-weight: 800;
            margin-bottom: 10px;
            background: linear-gradient(135deg, var(--accent-green), var(--accent-blue));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .dept-header p {
            color: var(--text-secondary);
            font-size: 16px;
            font-weight: 500;
        }

        .dept-stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .dept-stat-card {
            background: var(--primary-bg);
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
        }

        .dept-stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 255, 136, 0.1);
        }

        .dept-stat-icon {
            font-size: 36px;
            margin-bottom: 15px;
        }

        .dept-stat-number {
            font-size: 32px;
            font-weight: 900;
            color: var(--accent-green);
            margin-bottom: 8px;
        }

        .dept-stat-label {
            color: var(--text-secondary);
            font-size: 14px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .dept-charts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 25px;
        }

        .dept-chart-card {
            background: var(--primary-bg);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid var(--border-color);
        }

        .dept-chart-card h4 {
            color: var(--text-primary);
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 15px;
            text-align: center;
        }

        .dept-chart-card canvas {
            max-height: 250px;
        }

        /* Advanced Analytics Section */
        .advanced-analytics-section {
            margin-bottom: 35px;
        }

        .advanced-analytics-section h2 {
            color: var(--text-primary);
            font-size: 28px;
            font-weight: 800;
            margin-bottom: 25px;
            text-align: center;
            background: linear-gradient(135deg, var(--accent-green), var(--accent-blue));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .advanced-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
        }

        .advanced-card {
            background: linear-gradient(135deg, var(--card-bg), var(--secondary-bg));
            border-radius: 20px;
            padding: 25px;
            border: 1px solid var(--border-color);
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .advanced-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--accent-green), var(--accent-blue), var(--accent-yellow));
        }

        .advanced-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 40px rgba(0, 255, 136, 0.15);
        }

        .advanced-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .advanced-header h3 {
            color: var(--text-primary);
            font-size: 18px;
            font-weight: 700;
            margin: 0;
        }

        .advanced-badge {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .advanced-badge:not(.live) {
            background: linear-gradient(135deg, var(--accent-green), var(--accent-blue));
            color: white;
        }

        .advanced-badge.live {
            background: linear-gradient(135deg, var(--accent-red), #ff6b6b);
            color: white;
            animation: pulse 2s infinite;
        }

        /* Prediction Content */
        .prediction-content {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .prediction-item {
            display: flex;
            align-items: flex-start;
            gap: 15px;
            padding: 15px;
            background: var(--primary-bg);
            border-radius: 12px;
            border: 1px solid var(--border-color);
        }

        .prediction-icon {
            font-size: 24px;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, var(--accent-green), var(--accent-blue));
            border-radius: 50%;
            flex-shrink: 0;
        }

        .prediction-text {
            color: var(--text-primary);
            font-size: 14px;
            line-height: 1.5;
        }

        /* Insights Content */
        .insights-content {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .insight-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            border-radius: 10px;
            font-size: 14px;
            font-weight: 500;
        }

        .insight-item.positive {
            background: rgba(0, 255, 136, 0.1);
            border-left: 4px solid var(--accent-green);
        }

        .insight-item.warning {
            background: rgba(251, 191, 36, 0.1);
            border-left: 4px solid var(--accent-yellow);
        }

        .insight-icon {
            font-size: 18px;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            flex-shrink: 0;
        }

        .insight-item.positive .insight-icon {
            background: rgba(0, 255, 136, 0.2);
        }

        .insight-item.warning .insight-icon {
            background: rgba(251, 191, 36, 0.2);
        }

        .insight-text {
            color: var(--text-primary);
            line-height: 1.4;
        }

        /* Monitoring Content */
        .monitoring-content {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .monitor-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: var(--primary-bg);
            border-radius: 12px;
            border: 1px solid var(--border-color);
        }

        .monitor-label {
            color: var(--text-secondary);
            font-size: 14px;
            font-weight: 600;
        }

        .monitor-value {
            color: var(--text-primary);
            font-size: 18px;
            font-weight: 900;
        }

        .live-counter {
            color: var(--accent-green);
            animation: pulse 2s infinite;
        }

        /* Responsive Design */
        @media (max-width: 1200px) {
            .large-card {
                grid-column: span 12;
            }

            .medium-card {
                grid-column: span 6;
            }

            .small-card {
                grid-column: span 6;
            }
        }

        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(-100%);
            }

            .main-content {
                margin-left: 0;
            }

            .charts-section {
                grid-template-columns: 1fr;
            }

            .summary-cards {
                grid-template-columns: 1fr;
            }

            .table-header {
                flex-direction: column;
                align-items: stretch;
            }

            .navbar-actions {
                gap: 15px;
            }

            .top-navbar {
                padding: 15px 20px;
                flex-wrap: wrap;
            }

            .navbar-brand {
                order: 1;
                width: 100%;
                justify-content: center;
                margin-bottom: 15px;
            }

            .search-box {
                order: 2;
                max-width: none;
            }

            .navbar-actions {
                order: 3;
            }

            .analytics-main-grid {
                grid-template-columns: 1fr;
            }

            .large-card,
            .medium-card,
            .small-card {
                grid-column: span 1;
            }

            .overview-grid {
                grid-template-columns: 1fr;
            }

            .advanced-grid {
                grid-template-columns: 1fr;
            }

            .dept-charts-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar">
        <div class="sidebar-header">
            <div class="logo">NS</div>
            <div>
                <h5 class="mb-0">Nigam Setu</h5>
                <small class="text-muted">Admin Panel</small>
            </div>
        </div>
        <nav class="sidebar-nav">
            <div class="nav-item" data-section="dashboard">
                <i class="fas fa-tachometer-alt"></i>
                <span>Main Dashboard</span>
            </div>
            <div class="nav-item active" data-section="complaints">
                <i class="fas fa-exclamation-triangle"></i>
                <span>Complaints</span>
            </div>
            <div class="nav-item" data-section="analytics">
                <i class="fas fa-chart-bar"></i>
                <span>Analytics and Reports</span>
            </div>
            <div class="nav-item" data-section="officer-accountability">
                <i class="fas fa-user-shield"></i>
                <span>Officer Accountability Complaint System</span>
            </div>
            <div class="nav-item" data-section="civic-violation">
                <i class="fas fa-gavel"></i>
                <span>Civic Violation</span>
            </div>
            <div class="nav-item" data-section="ward">
                <i class="fas fa-map-marked-alt"></i>
                <span>Ward</span>
            </div>
            <div class="nav-item" data-section="zone">
                <i class="fas fa-layer-group"></i>
                <span>Zone</span>
            </div>
            <div class="nav-item" data-section="ai-assistant">
                <i class="fas fa-robot"></i>
                <span>AI Assistant - Nigam Saathi</span>
            </div>
            <div class="nav-item" data-section="whatsapp">
                <i class="fab fa-whatsapp"></i>
                <span>Whatsapp Channel</span>
            </div>
            <div class="nav-item" data-section="green-waste">
                <i class="fas fa-leaf"></i>
                <span>Green Waste</span>
            </div>
            <div class="nav-item" data-section="certificates">
                <i class="fas fa-certificate"></i>
                <span>Certificates</span>
            </div>
            <div class="nav-item" data-section="emails">
                <i class="fas fa-envelope"></i>
                <span>Emails / Contact</span>
            </div>
            <div class="nav-item" data-section="feedback">
                <i class="fas fa-star"></i>
                <span>Feedbacks and Ratings</span>
            </div>
            <div class="nav-item" data-section="other-services">
                <i class="fas fa-ellipsis-h"></i>
                <span>Other Services</span>
            </div>
        </nav>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Top Navbar -->
        <div class="top-navbar">
            <div class="navbar-brand">
                <img src="img/Nagar Nigam Logo.jpg" alt="Nagar Nigam Logo" class="navbar-logo">
                <div class="brand-text">
                    <h1 class="brand-title">Nigam Setu</h1>
                    <p class="brand-subtitle">Digital Governance Platform</p>
                </div>
            </div>
            
            <div class="search-box">
                <input type="text" placeholder="🔍 Search complaints, citizens, departments...">
                <i class="fas fa-search"></i>
            </div>
            
            <div class="navbar-actions">
                <div class="profile-info">
                    <div class="profile-avatar">A</div>
                    <div class="profile-text">
                        <div class="profile-name">ADMIN</div>
                        <div class="profile-role">Administrator</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Dashboard Content -->
        <div class="dashboard-content">
            <!-- Dashboard Section -->
            <div class="content-section" id="dashboard">
                <div class="page-header">
                    <h1 class="page-title">Dashboard Overview</h1>
                    <p class="page-subtitle">Monitor and manage citizen grievances efficiently with advanced analytics</p>
                </div>

                <!-- Summary Cards -->
                <div class="summary-cards">
                    <div class="summary-card">
                        <div class="card-header">
                            <div class="card-title">Total Complaints</div>
                            <div class="card-icon bg-info">
                                <i class="fas fa-clipboard-list"></i>
                            </div>
                        </div>
                        <div class="card-value">1,247</div>
                        <div class="card-change text-info">
                            <i class="fas fa-arrow-up"></i>
                            <span>12% from last month</span>
                        </div>
                    </div>

                    <div class="summary-card">
                        <div class="card-header">
                            <div class="card-title">Resolved Complaints</div>
                            <div class="card-icon bg-success">
                                <i class="fas fa-check-circle"></i>
                            </div>
                        </div>
                        <div class="card-value text-success">892</div>
                        <div class="card-change text-success">
                            <i class="fas fa-arrow-up"></i>
                            <span>8% from last month</span>
                        </div>
                    </div>

                    <div class="summary-card">
                        <div class="card-header">
                            <div class="card-title">Pending Complaints</div>
                            <div class="card-icon bg-warning">
                                <i class="fas fa-clock"></i>
                            </div>
                        </div>
                        <div class="card-value text-warning">298</div>
                        <div class="card-change text-warning">
                            <i class="fas fa-arrow-down"></i>
                            <span>5% from last month</span>
                        </div>
                    </div>

                    <div class="summary-card">
                        <div class="card-header">
                            <div class="card-title">Escalated Complaints</div>
                            <div class="card-icon bg-danger">
                                <i class="fas fa-exclamation-triangle"></i>
                            </div>
                        </div>
                        <div class="card-value text-danger">57</div>
                        <div class="card-change text-danger">
                            <i class="fas fa-arrow-up"></i>
                            <span>3% from last month</span>
                        </div>
                    </div>

                    <div class="summary-card">
                        <div class="card-header">
                            <div class="card-title">Avg Resolution Time</div>
                            <div class="card-icon bg-info">
                                <i class="fas fa-stopwatch"></i>
                            </div>
                        </div>
                        <div class="card-value">4.2</div>
                        <div class="card-change text-success">
                            <i class="fas fa-arrow-down"></i>
                            <span>Days (improved)</span>
                        </div>
                    </div>
                </div>

                <!-- Charts Section -->
                <div class="charts-section">
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3 class="chart-title">Complaint Trends</h3>
                            <select class="filter-select">
                                <option>Last 6 Months</option>
                                <option>Last Year</option>
                            </select>
                        </div>
                        <div class="chart-container">
                            <canvas id="trendChart"></canvas>
                        </div>
                    </div>

                    <div class="chart-card">
                        <div class="chart-header">
                            <h3 class="chart-title">Category Distribution</h3>
                        </div>
                        <div class="chart-container">
                            <canvas id="categoryChart"></canvas>
                        </div>
                    </div>
                </div>

                <div class="charts-section">
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3 class="chart-title">Department-wise Complaints</h3>
                        </div>
                        <div class="chart-container">
                            <canvas id="departmentChart"></canvas>
                        </div>
                    </div>

                    <div class="chart-card">
                        <div class="chart-header">
                            <h3 class="chart-title">Resolution vs Escalation</h3>
                        </div>
                        <div class="chart-container">
                            <canvas id="resolutionChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Complaints Section -->
            <div class="content-section active" id="complaints">
                <div class="page-header">
                    <h1 class="page-title">Complaints Management</h1>
                    <p class="page-subtitle">View and manage all citizen complaints with advanced filtering</p>
                </div>

                <div class="table-section">
                    <div class="table-header">
                        <h3>Recent Complaints</h3>
                        <div class="table-filters">
                            <select class="filter-select" id="departmentFilter">
                                <option value="">🏢 Select Department / विभाग चुनें</option>
                                <option value="lighting">💡 Lighting Department / प्रकाश विभाग</option>
                                <option value="health">🏥 Health Department / स्वास्थ्य विभाग</option>
                                <option value="sewerage">🚰 Sewerage & Drainage / सीवरेज और ड्रेनेज विभाग</option>
                                <option value="stray-animals">🐕 Stray Animals / आवारा पशु</option>
                                <option value="horticulture">🌳 Horticulture Department / उद्यान विभाग</option>
                                <option value="water">💧 Water Department / जल विभाग</option>
                                <option value="consumer-charges">💰 Consumer Charges / उपभोक्ता प्रभार</option>
                                <option value="pan-gutka">🚫 Pan, Gutka, Spitting Related / पान, गुटखा, थूकने सम्बंधित</option>
                                <option value="pm-housing">🏠 PM Housing Scheme / प्रधान मंत्री आवास योजना</option>
                                <option value="paid-sanitization">🧽 Paid Sanitization / सशुल्क सेनेटाईज़ेशन हेतु</option>
                                <option value="public-works">🏗️ Public Works Department / जनकार्य विभाग</option>
                            </select>
                            <select class="filter-select" id="statusFilter">
                                <option value="">📊 Status / स्थिति</option>
                                <option value="resolved">✅ Resolved / हल हो गया</option>
                                <option value="pending">⏳ Pending / लंबित</option>
                                <option value="escalated">🚨 Escalated / बढ़ाया गया</option>
                            </select>
                            <select class="filter-select" id="subtypeFilter">
                                <option value="">🔍 Select Subtype / उप-प्रकार चुनें</option>
                                <!-- Lighting Department -->
                                <optgroup label="💡 Lighting Department / प्रकाश विभाग">
                                    <option value="street-light-not-working">Street light not working / स्ट्रीट लाइट नहीं जल रही</option>
                                    <option value="street-light-day-burning">Street light burning in day / स्ट्रीट लाइट दिन में जल रही है</option>
                                    <option value="street-light-flickering">Street light flickering / स्ट्रीट लाइट टिमटिमा रही है</option>
                                    <option value="new-street-light">Install new street light / नई स्ट्रीट लाइट लगवाना</option>
                                    <option value="broken-pole">Broken street light pole / स्ट्रीट लाइट का खम्भा टूटा हुआ</option>
                                    <option value="hanging-wires">Electric wires hanging / इलेक्ट्रिक वायर लटक रहे हैं</option>
                                </optgroup>
                                <!-- Health Department -->
                                <optgroup label="🏥 Health Department / स्वास्थ्य विभाग">
                                    <option value="garbage-not-collected">Garbage not collected / कचरा नहीं उठाया गया</option>
                                    <option value="cleaner-absent">Cleaning staff absent / सफाई कर्मचारी नहीं आया</option>
                                    <option value="dustbin-full">Dustbin full / डस्टबिन भरा हुआ है</option>
                                    <option value="medical-waste">Medical waste / मेडिकल वेस्ट</option>
                                    <option value="dead-animal">Dead animal / मृत पशु</option>
                                    <option value="pest-problem">Pest problem / कीड़े मकोड़े की समस्या</option>
                                    <option value="bad-smell">Bad smell / दुर्गंध की समस्या</option>
                                </optgroup>
                                <!-- Sewerage Department -->
                                <optgroup label="🚰 Sewerage & Drainage / सीवरेज और ड्रेनेज विभाग">
                                    <option value="sewer-block">Sewer blocked / सीवर ब्लॉक</option>
                                    <option value="drain-water-logged">Water logged in drain / नाली में पानी भरा हुआ</option>
                                    <option value="manhole-cover-broken">Manhole cover broken / मैनहोल का ढक्कन टूटा</option>
                                    <option value="septic-tank-overflow">Septic tank overflow / सेप्टिक टैंक ओवरफ्लो</option>
                                    <option value="chamber-reconstruction">Chamber reconstruction / धवस्त चैम्बर का पुनः निर्माण</option>
                                    <option value="backline-connection">Connect backline to drainage / बैकलाइन को ड्रेनेज लाइन से जोड़ना</option>
                                    <option value="new-chamber-cover">New chamber cover / चैम्बर का नया ढक्कन लगाना</option>
                                    <option value="public-toilet-choked">Public toilet choked / सार्वजनिक शौचालय चोक होना</option>
                                    <option value="empty-septic-tank">Empty septic tank / सेप्टिक टैंक खाली करना</option>
                                    <option value="open-manhole">Open manhole or drain / खुले मैनहोल या नाला</option>
                                    <option value="sewage-leakage">Sewage leakage / सीवेज रिसाव</option>
                                    <option value="chamber-silt-removal">Chamber silt removal / चेम्बर की गाद उठाना</option>
                                </optgroup>
                                <!-- Other departments -->
                                <optgroup label="🐕 Stray Animals / आवारा पशु">
                                    <option value="stray-animal-problem">Stray animal problem / आवारा पशु की समस्या</option>
                                </optgroup>
                                <optgroup label="🌳 Horticulture / उद्यान विभाग">
                                    <option value="illegal-tree-cutting">Illegal tree cutting / पेड़ पौधों की अवैध कटाई</option>
                                </optgroup>
                                <optgroup label="💧 Water Department / जल विभाग">
                                    <option value="no-water-supply">No water supply / पानी का नहीं आना</option>
                                    <option value="contaminated-water">Contaminated water / दूषित पानी की शिकायत</option>
                                    <option value="pipeline-leakage">Pipeline leakage / पाइप लाइन लीकेज</option>
                                    <option value="boring-damaged">Municipal boring damaged / नगर निगम बोरिंग खराब</option>
                                    <option value="narmada-pipeline-debris">Narmada pipeline debris removal / नर्मदा पाइपलाइन का मलबा हटाना</option>
                                </optgroup>
                                <optgroup label="💰 Consumer Charges / उपभोक्ता प्रभार">
                                    <option value="wedding-procession">Wedding procession / बारात निकालने हेतु</option>
                                    <option value="pandal-setup">Pandal setup / पंडाल लगाना</option>
                                    <option value="home-garden-waste">Home garden waste / घरेलु उद्यान अपशिष्ट</option>
                                    <option value="home-debris-transport">Home debris transport / घरेलु मलबा परिवहन</option>
                                    <option value="bulk-garbage">Bulk Garbage</option>
                                </optgroup>
                                <optgroup label="🚫 Pan, Gutka, Spitting / पान, गुटखा, थूकने सम्बंधित">
                                    <option value="public-spitting">Public spitting with vehicle number / सार्वजनिक जगहों पर थूकना वाहन नंबर सहित</option>
                                </optgroup>
                                <optgroup label="🏠 PM Housing Scheme / प्रधान मंत्री आवास योजना">
                                    <option value="shelter-problem">Shelter related problem / आश्रय स्थल से संबंधित समस्या</option>
                                </optgroup>
                                <optgroup label="🧽 Paid Sanitization / सशुल्क सेनेटाइजेशन हेतु">
                                    <option value="site-sanitization">Site area sanitization with charges / स्थल क्षेत्र हेतु सेनेटाइजेशन शुल्क सहित वर्णन</option>
                                </optgroup>
                                <optgroup label="🏗️ Public Works / जनकार्य विभाग">
                                    <option value="sewerage-rain-overflow">Sewerage or rain water overflow / सीवरेज या बारिश का जल ओवरफ्लो</option>
                                    <option value="stagnant-road-water">Stagnant water on road / सड़क पर ठहरा हुआ पानी</option>
                                    <option value="construction-material-removal">Construction material removal C&D debris / निर्माण सामग्री हटवाना C&D मलबा</option>
                                </optgroup>
                            </select>
                            <button class="reset-filters-btn" id="resetFiltersBtn">
                                <i class="fas fa-undo"></i>
                                🔄 Reset Filters
                            </button>
                        </div>
                    </div>

                    <div class="table-scroll-wrapper">
                        <div class="table-responsive">
                            <table class="table custom-table">
                            <thead>
                                <tr>
                                    <th style="width: 80px; min-width: 80px;">🔢 S.No</th>
                                    <th style="width: 160px; min-width: 160px;">📋 Complaint ID</th>
                                    <th style="width: 200px; min-width: 200px;">👤 Citizen Name</th>
                                    <th style="width: 280px; min-width: 280px;">📝 Type</th>
                                    <th style="width: 220px; min-width: 220px;">🏢 Department</th>
                                    <th style="width: 140px; min-width: 140px;">📊 Status</th>
                                    <th style="width: 150px; min-width: 150px;">📅 Date</th>
                                    <th style="width: 160px; min-width: 160px;">⏰ SLA Remaining</th>
                                    <th style="width: 200px; min-width: 200px;">👨‍💼 Assigned Officer</th>
                                    <th style="width: 150px; min-width: 150px;">📋 Details</th>
                                    <th style="width: 220px; min-width: 220px;">⚡ Actions</th>
                                </tr>
                            </thead>
                            <tbody id="complaintsTableBody">
                                <tr class="complaint-row" data-aos="fade-up" data-aos-delay="100">
                                    <td class="serial-number">
                                        <div class="serial-badge">1</div>
                                    </td>
                                    <td><strong class="complaint-id">CR-2024-001</strong></td>
                                    <td class="citizen-name">
                                        <div class="citizen-info">
                                            <div class="citizen-avatar">R</div>
                                            <span>Rajesh Kumar</span>
                                        </div>
                                    </td>
                                    <td><span class="type-badge type-infrastructure">💡 Street Light Not Working</span></td>
                                    <td><span class="dept-badge dept-lighting">💡 Lighting Department</span></td>
                                    <td><span class="status-badge status-pending">⏳ Pending</span></td>
                                    <td class="date-cell">📅 2024-01-15</td>
                                    <td class="sla-cell sla-warning">⚠️ 2 days</td>
                                    <td class="officer-cell">
                                        <div class="officer-info">
                                            <div class="officer-avatar">AK</div>
                                            <span>Amit Kumar</span>
                                        </div>
                                    </td>
                                    <td class="details-cell">
                                        <button class="details-btn" onclick="showComplaintDetails('CR-2024-001')">
                                            <i class="fas fa-eye"></i>
                                            View Details
                                        </button>
                                    </td>
                                    <td class="actions-cell">
                                        <button class="action-btn btn-assign">📋 Assign</button>
                                        <button class="action-btn btn-forward">➡️ Forward</button>
                                    </td>
                                </tr>
                                <tr class="complaint-row" data-aos="fade-up" data-aos-delay="200">
                                    <td class="serial-number">
                                        <div class="serial-badge">2</div>
                                    </td>
                                    <td><strong class="complaint-id">CR-2024-002</strong></td>
                                    <td class="citizen-name">
                                        <div class="citizen-info">
                                            <div class="citizen-avatar">P</div>
                                            <span>Priya Sharma</span>
                                        </div>
                                    </td>
                                    <td><span class="type-badge type-service">💧 No Water Supply</span></td>
                                    <td><span class="dept-badge dept-water">💧 Water Department</span></td>
                                    <td><span class="status-badge status-resolved">✅ Resolved</span></td>
                                    <td class="date-cell">📅 2024-01-14</td>
                                    <td class="sla-cell sla-completed">✅ Completed</td>
                                    <td class="officer-cell">
                                        <div class="officer-info">
                                            <div class="officer-avatar">RS</div>
                                            <span>Ravi Singh</span>
                                        </div>
                                    </td>
                                    <td class="details-cell">
                                        <button class="details-btn" onclick="showComplaintDetails('CR-2024-002')">
                                            <i class="fas fa-eye"></i>
                                            View Details
                                        </button>
                                    </td>
                                    <td class="actions-cell">
                                        <button class="action-btn btn-close">✅ Close</button>
                                    </td>
                                </tr>
                                <tr class="complaint-row" data-aos="fade-up" data-aos-delay="300">
                                    <td class="serial-number">
                                        <div class="serial-badge">3</div>
                                    </td>
                                    <td><strong class="complaint-id">CR-2024-003</strong></td>
                                    <td class="citizen-name">
                                        <div class="citizen-info">
                                            <div class="citizen-avatar">A</div>
                                            <span>Amit Patel</span>
                                        </div>
                                    </td>
                                    <td><span class="type-badge type-maintenance">🚰 Sewer Blocked</span></td>
                                    <td><span class="dept-badge dept-sewerage">🚰 Sewerage Department</span></td>
                                    <td><span class="status-badge status-escalated">🚨 Escalated</span></td>
                                    <td class="date-cell">📅 2024-01-13</td>
                                    <td class="sla-cell sla-overdue">🚨 Overdue</td>
                                    <td class="officer-cell">
                                        <div class="officer-info">
                                            <div class="officer-avatar">MG</div>
                                            <span>Mohan Gupta</span>
                                        </div>
                                    </td>
                                    <td class="details-cell">
                                        <button class="details-btn" onclick="showComplaintDetails('CR-2024-003')">
                                            <i class="fas fa-eye"></i>
                                            View Details
                                        </button>
                                    </td>
                                    <td class="actions-cell">
                                        <button class="action-btn btn-assign">🔄 Reassign</button>
                                        <button class="action-btn btn-forward">⬆️ Escalate</button>
                                    </td>
                                </tr>
                                <tr class="complaint-row" data-aos="fade-up" data-aos-delay="400">
                                    <td class="serial-number">
                                        <div class="serial-badge">4</div>
                                    </td>
                                    <td><strong class="complaint-id">CR-2024-004</strong></td>
                                    <td class="citizen-name">
                                        <div class="citizen-info">
                                            <div class="citizen-avatar">S</div>
                                            <span>Sunita Devi</span>
                                        </div>
                                    </td>
                                    <td><span class="type-badge type-service">🏥 Garbage Not Collected</span></td>
                                    <td><span class="dept-badge dept-health">🏥 Health Department</span></td>
                                    <td><span class="status-badge status-pending">⏳ Pending</span></td>
                                    <td class="date-cell">📅 2024-01-12</td>
                                    <td class="sla-cell sla-good">✅ 1 day</td>
                                    <td class="officer-cell">
                                        <div class="officer-info">
                                            <div class="officer-avatar">SK</div>
                                            <span>Suresh Kumar</span>
                                        </div>
                                    </td>
                                    <td class="details-cell">
                                        <button class="details-btn" onclick="showComplaintDetails('CR-2024-004')">
                                            <i class="fas fa-eye"></i>
                                            View Details
                                        </button>
                                    </td>
                                    <td class="actions-cell">
                                        <button class="action-btn btn-assign">📋 Assign</button>
                                        <button class="action-btn btn-forward">➡️ Forward</button>
                                    </td>
                                </tr>
                                <tr class="complaint-row" data-aos="fade-up" data-aos-delay="500">
                                    <td class="serial-number">
                                        <div class="serial-badge">5</div>
                                    </td>
                                    <td><strong class="complaint-id">CR-2024-005</strong></td>
                                    <td class="citizen-name">
                                        <div class="citizen-info">
                                            <div class="citizen-avatar">V</div>
                                            <span>Vikram Singh</span>
                                        </div>
                                    </td>
                                    <td><span class="type-badge type-infrastructure">🏗️ Stagnant Road Water</span></td>
                                    <td><span class="dept-badge dept-public-works">🏗️ Public Works Department</span></td>
                                    <td><span class="status-badge status-resolved">✅ Resolved</span></td>
                                    <td class="date-cell">📅 2024-01-11</td>
                                    <td class="sla-cell sla-completed">✅ Completed</td>
                                    <td class="officer-cell">
                                        <div class="officer-info">
                                            <div class="officer-avatar">DK</div>
                                            <span>Deepak Kumar</span>
                                        </div>
                                    </td>
                                    <td class="details-cell">
                                        <button class="details-btn" onclick="showComplaintDetails('CR-2024-005')">
                                            <i class="fas fa-eye"></i>
                                            View Details
                                        </button>
                                    </td>
                                    <td class="actions-cell">
                                        <button class="action-btn btn-close">✅ Close</button>
                                    </td>
                                </tr>
                                <tr class="complaint-row" data-aos="fade-up" data-aos-delay="600">
                                    <td class="serial-number">
                                        <div class="serial-badge">6</div>
                                    </td>
                                    <td><strong class="complaint-id">CR-2024-006</strong></td>
                                    <td class="citizen-name">
                                        <div class="citizen-info">
                                            <div class="citizen-avatar">M</div>
                                            <span>Maya Verma</span>
                                        </div>
                                    </td>
                                    <td><span class="type-badge type-service">🐕 Stray Animal Problem</span></td>
                                    <td><span class="dept-badge dept-stray-animals">🐕 Stray Animals Department</span></td>
                                    <td><span class="status-badge status-pending">⏳ Pending</span></td>
                                    <td class="date-cell">📅 2024-01-10</td>
                                    <td class="sla-cell sla-warning">⚠️ 3 days</td>
                                    <td class="officer-cell">
                                        <div class="officer-info">
                                            <div class="officer-avatar">RK</div>
                                            <span>Raj Kumar Singh</span>
                                        </div>
                                    </td>
                                    <td class="details-cell">
                                        <button class="details-btn" onclick="showComplaintDetails('CR-2024-006')">
                                            <i class="fas fa-eye"></i>
                                            View Details
                                        </button>
                                    </td>
                                    <td class="actions-cell">
                                        <button class="action-btn btn-assign">📋 Assign</button>
                                        <button class="action-btn btn-forward">➡️ Forward</button>
                                    </td>
                                </tr>
                                <tr class="complaint-row" data-aos="fade-up" data-aos-delay="700">
                                    <td class="serial-number">
                                        <div class="serial-badge">7</div>
                                    </td>
                                    <td><strong class="complaint-id">CR-2024-007</strong></td>
                                    <td class="citizen-name">
                                        <div class="citizen-info">
                                            <div class="citizen-avatar">K</div>
                                            <span>Kiran Agarwal</span>
                                        </div>
                                    </td>
                                    <td><span class="type-badge type-infrastructure">💡 Street Light Flickering</span></td>
                                    <td><span class="dept-badge dept-lighting">💡 Lighting Department</span></td>
                                    <td><span class="status-badge status-resolved">✅ Resolved</span></td>
                                    <td class="date-cell">📅 2024-01-09</td>
                                    <td class="sla-cell sla-completed">✅ Completed</td>
                                    <td class="officer-cell">
                                        <div class="officer-info">
                                            <div class="officer-avatar">AK</div>
                                            <span>Amit Kumar Sharma</span>
                                        </div>
                                    </td>
                                    <td class="details-cell">
                                        <button class="details-btn" onclick="showComplaintDetails('CR-2024-007')">
                                            <i class="fas fa-eye"></i>
                                            View Details
                                        </button>
                                    </td>
                                    <td class="actions-cell">
                                        <button class="action-btn btn-close">✅ Close</button>
                                    </td>
                                </tr>
                                <tr class="complaint-row" data-aos="fade-up" data-aos-delay="800">
                                    <td class="serial-number">
                                        <div class="serial-badge">8</div>
                                    </td>
                                    <td><strong class="complaint-id">CR-2024-008</strong></td>
                                    <td class="citizen-name">
                                        <div class="citizen-info">
                                            <div class="citizen-avatar">N</div>
                                            <span>Neha Gupta</span>
                                        </div>
                                    </td>
                                    <td><span class="type-badge type-maintenance">🚰 Manhole Cover Broken</span></td>
                                    <td><span class="dept-badge dept-sewerage">🚰 Sewerage & Drainage Department</span></td>
                                    <td><span class="status-badge status-escalated">🚨 Escalated</span></td>
                                    <td class="date-cell">📅 2024-01-08</td>
                                    <td class="sla-cell sla-overdue">🚨 Overdue</td>
                                    <td class="officer-cell">
                                        <div class="officer-info">
                                            <div class="officer-avatar">MG</div>
                                            <span>Mohan Gupta</span>
                                        </div>
                                    </td>
                                    <td class="details-cell">
                                        <button class="details-btn" onclick="showComplaintDetails('CR-2024-008')">
                                            <i class="fas fa-eye"></i>
                                            View Details
                                        </button>
                                    </td>
                                    <td class="actions-cell">
                                        <button class="action-btn btn-assign">🔄 Reassign</button>
                                        <button class="action-btn btn-forward">⬆️ Escalate</button>
                                    </td>
                                </tr>
                                <tr class="complaint-row" data-aos="fade-up" data-aos-delay="900">
                                    <td class="serial-number">
                                        <div class="serial-badge">9</div>
                                    </td>
                                    <td><strong class="complaint-id">CR-2024-009</strong></td>
                                    <td class="citizen-name">
                                        <div class="citizen-info">
                                            <div class="citizen-avatar">D</div>
                                            <span>Deepak Yadav</span>
                                        </div>
                                    </td>
                                    <td><span class="type-badge type-service">🏥 Dustbin Full</span></td>
                                    <td><span class="dept-badge dept-health">🏥 Health Department</span></td>
                                    <td><span class="status-badge status-pending">⏳ Pending</span></td>
                                    <td class="date-cell">📅 2024-01-07</td>
                                    <td class="sla-cell sla-good">✅ 2 days</td>
                                    <td class="officer-cell">
                                        <div class="officer-info">
                                            <div class="officer-avatar">SK</div>
                                            <span>Suresh Kumar</span>
                                        </div>
                                    </td>
                                    <td class="details-cell">
                                        <button class="details-btn" onclick="showComplaintDetails('CR-2024-009')">
                                            <i class="fas fa-eye"></i>
                                            View Details
                                        </button>
                                    </td>
                                    <td class="actions-cell">
                                        <button class="action-btn btn-assign">📋 Assign</button>
                                        <button class="action-btn btn-forward">➡️ Forward</button>
                                    </td>
                                </tr>
                                <tr class="complaint-row" data-aos="fade-up" data-aos-delay="1000">
                                    <td class="serial-number">
                                        <div class="serial-badge">10</div>
                                    </td>
                                    <td><strong class="complaint-id">CR-2024-010</strong></td>
                                    <td class="citizen-name">
                                        <div class="citizen-info">
                                            <div class="citizen-avatar">L</div>
                                            <span>Lakshmi Devi</span>
                                        </div>
                                    </td>
                                    <td><span class="type-badge type-infrastructure">💧 Pipeline Leakage</span></td>
                                    <td><span class="dept-badge dept-water">💧 Water Department</span></td>
                                    <td><span class="status-badge status-resolved">✅ Resolved</span></td>
                                    <td class="date-cell">📅 2024-01-06</td>
                                    <td class="sla-cell sla-completed">✅ Completed</td>
                                    <td class="officer-cell">
                                        <div class="officer-info">
                                            <div class="officer-avatar">RS</div>
                                            <span>Ravi Singh</span>
                                        </div>
                                    </td>
                                    <td class="details-cell">
                                        <button class="details-btn" onclick="showComplaintDetails('CR-2024-010')">
                                            <i class="fas fa-eye"></i>
                                            View Details
                                        </button>
                                    </td>
                                    <td class="actions-cell">
                                        <button class="action-btn btn-close">✅ Close</button>
                                    </td>
                                </tr>
                                <tr class="complaint-row" data-aos="fade-up" data-aos-delay="1100">
                                    <td class="serial-number">
                                        <div class="serial-badge">11</div>
                                    </td>
                                    <td><strong class="complaint-id">CR-2024-011</strong></td>
                                    <td class="citizen-name">
                                        <div class="citizen-info">
                                            <div class="citizen-avatar">H</div>
                                            <span>Harish Chandra</span>
                                        </div>
                                    </td>
                                    <td><span class="type-badge type-maintenance">🏗️ Construction Material Removal</span></td>
                                    <td><span class="dept-badge dept-public-works">🏗️ Public Works Department</span></td>
                                    <td><span class="status-badge status-pending">⏳ Pending</span></td>
                                    <td class="date-cell">📅 2024-01-05</td>
                                    <td class="sla-cell sla-warning">⚠️ 1 day</td>
                                    <td class="officer-cell">
                                        <div class="officer-info">
                                            <div class="officer-avatar">DK</div>
                                            <span>Deepak Kumar</span>
                                        </div>
                                    </td>
                                    <td class="details-cell">
                                        <button class="details-btn" onclick="showComplaintDetails('CR-2024-011')">
                                            <i class="fas fa-eye"></i>
                                            View Details
                                        </button>
                                    </td>
                                    <td class="actions-cell">
                                        <button class="action-btn btn-assign">📋 Assign</button>
                                        <button class="action-btn btn-forward">➡️ Forward</button>
                                    </td>
                                </tr>
                                <tr class="complaint-row" data-aos="fade-up" data-aos-delay="1200">
                                    <td class="serial-number">
                                        <div class="serial-badge">12</div>
                                    </td>
                                    <td><strong class="complaint-id">CR-2024-012</strong></td>
                                    <td class="citizen-name">
                                        <div class="citizen-info">
                                            <div class="citizen-avatar">G</div>
                                            <span>Geeta Sharma</span>
                                        </div>
                                    </td>
                                    <td><span class="type-badge type-service">🏥 Dead Animal</span></td>
                                    <td><span class="dept-badge dept-health">🏥 Health Department</span></td>
                                    <td><span class="status-badge status-resolved">✅ Resolved</span></td>
                                    <td class="date-cell">📅 2024-01-04</td>
                                    <td class="sla-cell sla-completed">✅ Completed</td>
                                    <td class="officer-cell">
                                        <div class="officer-info">
                                            <div class="officer-avatar">SK</div>
                                            <span>Suresh Kumar</span>
                                        </div>
                                    </td>
                                    <td class="details-cell">
                                        <button class="details-btn" onclick="showComplaintDetails('CR-2024-012')">
                                            <i class="fas fa-eye"></i>
                                            View Details
                                        </button>
                                    </td>
                                    <td class="actions-cell">
                                        <button class="action-btn btn-close">✅ Close</button>
                                    </td>
                                </tr>
                                <tr class="complaint-row" data-aos="fade-up" data-aos-delay="1300">
                                    <td class="serial-number">
                                        <div class="serial-badge">13</div>
                                    </td>
                                    <td><strong class="complaint-id">CR-2024-013</strong></td>
                                    <td class="citizen-name">
                                        <div class="citizen-info">
                                            <div class="citizen-avatar">B</div>
                                            <span>Bharat Singh</span>
                                        </div>
                                    </td>
                                    <td><span class="type-badge type-infrastructure">💡 New Street Light Installation</span></td>
                                    <td><span class="dept-badge dept-lighting">💡 Lighting Department</span></td>
                                    <td><span class="status-badge status-escalated">🚨 Escalated</span></td>
                                    <td class="date-cell">📅 2024-01-03</td>
                                    <td class="sla-cell sla-overdue">🚨 Overdue</td>
                                    <td class="officer-cell">
                                        <div class="officer-info">
                                            <div class="officer-avatar">AK</div>
                                            <span>Amit Kumar Sharma</span>
                                        </div>
                                    </td>
                                    <td class="details-cell">
                                        <button class="details-btn" onclick="showComplaintDetails('CR-2024-013')">
                                            <i class="fas fa-eye"></i>
                                            View Details
                                        </button>
                                    </td>
                                    <td class="actions-cell">
                                        <button class="action-btn btn-assign">🔄 Reassign</button>
                                        <button class="action-btn btn-forward">⬆️ Escalate</button>
                                    </td>
                                </tr>
                                <tr class="complaint-row" data-aos="fade-up" data-aos-delay="1400">
                                    <td class="serial-number">
                                        <div class="serial-badge">14</div>
                                    </td>
                                    <td><strong class="complaint-id">CR-2024-014</strong></td>
                                    <td class="citizen-name">
                                        <div class="citizen-info">
                                            <div class="citizen-avatar">U</div>
                                            <span>Uma Devi</span>
                                        </div>
                                    </td>
                                    <td><span class="type-badge type-maintenance">🚰 Septic Tank Overflow</span></td>
                                    <td><span class="dept-badge dept-sewerage">🚰 Sewerage & Drainage Department</span></td>
                                    <td><span class="status-badge status-pending">⏳ Pending</span></td>
                                    <td class="date-cell">📅 2024-01-02</td>
                                    <td class="sla-cell sla-good">✅ 4 days</td>
                                    <td class="officer-cell">
                                        <div class="officer-info">
                                            <div class="officer-avatar">MG</div>
                                            <span>Mohan Gupta</span>
                                        </div>
                                    </td>
                                    <td class="details-cell">
                                        <button class="details-btn" onclick="showComplaintDetails('CR-2024-014')">
                                            <i class="fas fa-eye"></i>
                                            View Details
                                        </button>
                                    </td>
                                    <td class="actions-cell">
                                        <button class="action-btn btn-assign">📋 Assign</button>
                                        <button class="action-btn btn-forward">➡️ Forward</button>
                                    </td>
                                </tr>
                                <tr class="complaint-row" data-aos="fade-up" data-aos-delay="1500">
                                    <td class="serial-number">
                                        <div class="serial-badge">15</div>
                                    </td>
                                    <td><strong class="complaint-id">CR-2024-015</strong></td>
                                    <td class="citizen-name">
                                        <div class="citizen-info">
                                            <div class="citizen-avatar">T</div>
                                            <span>Tarun Malhotra</span>
                                        </div>
                                    </td>
                                    <td><span class="type-badge type-service">💧 Contaminated Water</span></td>
                                    <td><span class="dept-badge dept-water">💧 Water Department</span></td>
                                    <td><span class="status-badge status-resolved">✅ Resolved</span></td>
                                    <td class="date-cell">📅 2024-01-01</td>
                                    <td class="sla-cell sla-completed">✅ Completed</td>
                                    <td class="officer-cell">
                                        <div class="officer-info">
                                            <div class="officer-avatar">RS</div>
                                            <span>Ravi Singh</span>
                                        </div>
                                    </td>
                                    <td class="details-cell">
                                        <button class="details-btn" onclick="showComplaintDetails('CR-2024-015')">
                                            <i class="fas fa-eye"></i>
                                            View Details
                                        </button>
                                    </td>
                                    <td class="actions-cell">
                                        <button class="action-btn btn-close">✅ Close</button>
                                    </td>
                                </tr>
                                <tr class="complaint-row" data-aos="fade-up" data-aos-delay="1600">
                                    <td class="serial-number">
                                        <div class="serial-badge">16</div>
                                    </td>
                                    <td><strong class="complaint-id">CR-2023-016</strong></td>
                                    <td class="citizen-name">
                                        <div class="citizen-info">
                                            <div class="citizen-avatar">J</div>
                                            <span>Jyoti Kumari</span>
                                        </div>
                                    </td>
                                    <td><span class="type-badge type-service">🏥 Cleaner Staff Absent</span></td>
                                    <td><span class="dept-badge dept-health">🏥 Health Department</span></td>
                                    <td><span class="status-badge status-pending">⏳ Pending</span></td>
                                    <td class="date-cell">📅 2023-12-30</td>
                                    <td class="sla-cell sla-warning">⚠️ 2 days</td>
                                    <td class="officer-cell">
                                        <div class="officer-info">
                                            <div class="officer-avatar">SK</div>
                                            <span>Suresh Kumar</span>
                                        </div>
                                    </td>
                                    <td class="details-cell">
                                        <button class="details-btn" onclick="showComplaintDetails('CR-2023-016')">
                                            <i class="fas fa-eye"></i>
                                            View Details
                                        </button>
                                    </td>
                                    <td class="actions-cell">
                                        <button class="action-btn btn-assign">📋 Assign</button>
                                        <button class="action-btn btn-forward">➡️ Forward</button>
                                    </td>
                                </tr>
                                <tr class="complaint-row" data-aos="fade-up" data-aos-delay="1700">
                                    <td class="serial-number">
                                        <div class="serial-badge">17</div>
                                    </td>
                                    <td><strong class="complaint-id">CR-2023-017</strong></td>
                                    <td class="citizen-name">
                                        <div class="citizen-info">
                                            <div class="citizen-avatar">C</div>
                                            <span>Chandra Prakash</span>
                                        </div>
                                    </td>
                                    <td><span class="type-badge type-infrastructure">💡 Broken Street Light Pole</span></td>
                                    <td><span class="dept-badge dept-lighting">💡 Lighting Department</span></td>
                                    <td><span class="status-badge status-resolved">✅ Resolved</span></td>
                                    <td class="date-cell">📅 2023-12-29</td>
                                    <td class="sla-cell sla-completed">✅ Completed</td>
                                    <td class="officer-cell">
                                        <div class="officer-info">
                                            <div class="officer-avatar">AK</div>
                                            <span>Amit Kumar Sharma</span>
                                        </div>
                                    </td>
                                    <td class="details-cell">
                                        <button class="details-btn" onclick="showComplaintDetails('CR-2023-017')">
                                            <i class="fas fa-eye"></i>
                                            View Details
                                        </button>
                                    </td>
                                    <td class="actions-cell">
                                        <button class="action-btn btn-close">✅ Close</button>
                                    </td>
                                </tr>
                                <tr class="complaint-row" data-aos="fade-up" data-aos-delay="1800">
                                    <td class="serial-number">
                                        <div class="serial-badge">18</div>
                                    </td>
                                    <td><strong class="complaint-id">CR-2023-018</strong></td>
                                    <td class="citizen-name">
                                        <div class="citizen-info">
                                            <div class="citizen-avatar">I</div>
                                            <span>Indira Devi</span>
                                        </div>
                                    </td>
                                    <td><span class="type-badge type-maintenance">🚰 Water Logged in Drain</span></td>
                                    <td><span class="dept-badge dept-sewerage">🚰 Sewerage & Drainage Department</span></td>
                                    <td><span class="status-badge status-escalated">🚨 Escalated</span></td>
                                    <td class="date-cell">📅 2023-12-28</td>
                                    <td class="sla-cell sla-overdue">🚨 Overdue</td>
                                    <td class="officer-cell">
                                        <div class="officer-info">
                                            <div class="officer-avatar">MG</div>
                                            <span>Mohan Gupta</span>
                                        </div>
                                    </td>
                                    <td class="details-cell">
                                        <button class="details-btn" onclick="showComplaintDetails('CR-2023-018')">
                                            <i class="fas fa-eye"></i>
                                            View Details
                                        </button>
                                    </td>
                                    <td class="actions-cell">
                                        <button class="action-btn btn-assign">🔄 Reassign</button>
                                        <button class="action-btn btn-forward">⬆️ Escalate</button>
                                    </td>
                                </tr>
                                <tr class="complaint-row" data-aos="fade-up" data-aos-delay="1900">
                                    <td class="serial-number">
                                        <div class="serial-badge">19</div>
                                    </td>
                                    <td><strong class="complaint-id">CR-2023-019</strong></td>
                                    <td class="citizen-name">
                                        <div class="citizen-info">
                                            <div class="citizen-avatar">F</div>
                                            <span>Fatima Khan</span>
                                        </div>
                                    </td>
                                    <td><span class="type-badge type-service">🏥 Bad Smell Problem</span></td>
                                    <td><span class="dept-badge dept-health">🏥 Health Department</span></td>
                                    <td><span class="status-badge status-pending">⏳ Pending</span></td>
                                    <td class="date-cell">📅 2023-12-27</td>
                                    <td class="sla-cell sla-good">✅ 3 days</td>
                                    <td class="officer-cell">
                                        <div class="officer-info">
                                            <div class="officer-avatar">SK</div>
                                            <span>Suresh Kumar</span>
                                        </div>
                                    </td>
                                    <td class="details-cell">
                                        <button class="details-btn" onclick="showComplaintDetails('CR-2023-019')">
                                            <i class="fas fa-eye"></i>
                                            View Details
                                        </button>
                                    </td>
                                    <td class="actions-cell">
                                        <button class="action-btn btn-assign">📋 Assign</button>
                                        <button class="action-btn btn-forward">➡️ Forward</button>
                                    </td>
                                </tr>
                                <tr class="complaint-row" data-aos="fade-up" data-aos-delay="2000">
                                    <td class="serial-number">
                                        <div class="serial-badge">20</div>
                                    </td>
                                    <td><strong class="complaint-id">CR-2023-020</strong></td>
                                    <td class="citizen-name">
                                        <div class="citizen-info">
                                            <div class="citizen-avatar">O</div>
                                            <span>Om Prakash Verma</span>
                                        </div>
                                    </td>
                                    <td><span class="type-badge type-infrastructure">💧 Municipal Boring Damaged</span></td>
                                    <td><span class="dept-badge dept-water">💧 Water Department</span></td>
                                    <td><span class="status-badge status-resolved">✅ Resolved</span></td>
                                    <td class="date-cell">📅 2023-12-26</td>
                                    <td class="sla-cell sla-completed">✅ Completed</td>
                                    <td class="officer-cell">
                                        <div class="officer-info">
                                            <div class="officer-avatar">RS</div>
                                            <span>Ravi Singh</span>
                                        </div>
                                    </td>
                                    <td class="details-cell">
                                        <button class="details-btn" onclick="showComplaintDetails('CR-2023-020')">
                                            <i class="fas fa-eye"></i>
                                            View Details
                                        </button>
                                    </td>
                                    <td class="actions-cell">
                                        <button class="action-btn btn-close">✅ Close</button>
                                    </td>
                                </tr>
                            </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Analytics Section -->
            <div class="content-section" id="analytics">
                <div class="page-header">
                    <h1 class="page-title">Analytics & Reports</h1>
                    <p class="page-subtitle">Detailed insights and performance metrics with advanced visualization</p>
                </div>

                <!-- Department Filter -->
<div class="analytics-filter-section">
    <div class="filter-card">
        <h3>🎯 Select Department for Analysis</h3>
        <select class="analytics-department-filter" id="analyticsDepartmentFilter">
            <option value="all">📊 All Departments Overview / सभी विभागों का अवलोकन</option>
            <option value="lighting">💡 Lighting Department / प्रकाश विभाग</option>
            <option value="health">🏥 Health Department / स्वास्थ्य विभाग</option>
            <option value="sewerage">🚰 Sewerage & Drainage / सीवरेज और ड्रेनेज विभाग</option>
            <option value="stray-animals">🐕 Stray Animals / आवारा पशु</option>
            <option value="horticulture">🌳 Horticulture Department / उद्यान विभाग</option>
            <option value="water">💧 Water Department / जल विभाग</option>
            <option value="consumer-charges">💰 Consumer Charges / उपभोक्ता प्रभार</option>
            <option value="pan-gutka">🚫 Pan, Gutka, Spitting Related / पान, गुटखा, थूकने सम्बंधित</option>
            <option value="pm-housing">🏠 PM Housing Scheme / प्रधान मंत्री आवास योजना</option>
            <option value="paid-sanitization">🧽 Paid Sanitization / सशुल्क सेनेटाईज़ेशन हेतु</option>
            <option value="public-works">🏗️ Public Works Department / जनकार्य विभाग</option>
        </select>

        <!-- 🔄 Reset Button -->
        <button class="reset-filters-btn" id="resetFiltersBtn">
            <i class="fas fa-undo"></i>
            🔄 Reset Filters
        </button>
    </div>
</div>


                <!-- Overview Statistics -->
                <div class="analytics-overview" id="analyticsOverview">
                    <div class="overview-grid">
                        <div class="overview-card total-complaints">
                            <div class="overview-icon">📊</div>
                            <div class="overview-content">
                                <div class="overview-number" id="totalComplaintsNum">1,247</div>
                                <div class="overview-label">Total Complaints</div>
                                <div class="overview-trend positive">↗️ +12% from last month</div>
                            </div>
                        </div>
                        <div class="overview-card resolved-complaints">
                            <div class="overview-icon">✅</div>
                            <div class="overview-content">
                                <div class="overview-number" id="resolvedComplaintsNum">892</div>
                                <div class="overview-label">Resolved</div>
                                <div class="overview-trend positive">↗️ +8% resolution rate</div>
                            </div>
                        </div>
                        <div class="overview-card pending-complaints">
                            <div class="overview-icon">⏳</div>
                            <div class="overview-content">
                                <div class="overview-number" id="pendingComplaintsNum">298</div>
                                <div class="overview-label">Pending</div>
                                <div class="overview-trend negative">↘️ -5% from last month</div>
                            </div>
                        </div>
                        <div class="overview-card avg-resolution">
                            <div class="overview-icon">⚡</div>
                            <div class="overview-content">
                                <div class="overview-number" id="avgResolutionNum">4.2</div>
                                <div class="overview-label">Avg Days</div>
                                <div class="overview-trend positive">↗️ 15% faster</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Main Analytics Grid -->
                <div class="analytics-main-grid" id="analyticsMainGrid">
                    <!-- Department Distribution Chart -->
                    <div class="analytics-card large-card">
                        <div class="analytics-card-header">
                            <h3>🏢 Department-wise Complaint Distribution</h3>
                            <div class="chart-controls">
                                <button class="chart-control-btn active" data-period="month">Month</button>
                                <button class="chart-control-btn" data-period="quarter">Quarter</button>
                                <button class="chart-control-btn" data-period="year">Year</button>
                            </div>
                        </div>
                        <div class="analytics-chart-container">
                            <canvas id="departmentDistributionChart"></canvas>
                        </div>
                    </div>

                    <!-- Complaint Types Breakdown -->
                    <div class="analytics-card medium-card">
                        <div class="analytics-card-header">
                            <h3>📝 Complaint Types Breakdown</h3>
                        </div>
                        <div class="analytics-chart-container">
                            <canvas id="complaintTypesChart"></canvas>
                        </div>
                    </div>

                    <!-- Resolution Trends -->
                    <div class="analytics-card large-card">
                        <div class="analytics-card-header">
                            <h3>📈 Resolution Trends & Performance</h3>
                        </div>
                        <div class="analytics-chart-container">
                            <canvas id="resolutionTrendsChart"></canvas>
                        </div>
                    </div>

                    <!-- SLA Performance -->
                    <div class="analytics-card medium-card">
                        <div class="analytics-card-header">
                            <h3>⏰ SLA Performance</h3>
                        </div>
                        <div class="analytics-chart-container">
                            <canvas id="slaPerformanceChart"></canvas>
                        </div>
                    </div>

                    <!-- Priority Distribution -->
                    <div class="analytics-card small-card">
                        <div class="analytics-card-header">
                            <h3>🎯 Priority Levels</h3>
                        </div>
                        <div class="analytics-chart-container">
                            <canvas id="priorityDistributionChart"></canvas>
                        </div>
                    </div>

                    <!-- Geographic Heatmap -->
                    <div class="analytics-card large-card">
                        <div class="analytics-card-header">
                            <h3>🗺️ Geographic Distribution Heatmap</h3>
                        </div>
                        <div class="analytics-chart-container">
                            <canvas id="geographicHeatmapChart"></canvas>
                        </div>
                    </div>

                    <!-- Officer Performance -->
                    <div class="analytics-card medium-card">
                        <div class="analytics-card-header">
                            <h3>👨‍💼 Officer Performance</h3>
                        </div>
                        <div class="analytics-chart-container">
                            <canvas id="officerPerformanceChart"></canvas>
                        </div>
                    </div>

                    <!-- Citizen Satisfaction -->
                    <div class="analytics-card small-card">
                        <div class="analytics-card-header">
                            <h3>😊 Satisfaction Score</h3>
                        </div>
                        <div class="analytics-chart-container">
                            <canvas id="satisfactionChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Department-Specific Analytics -->
                <div class="department-specific-analytics" id="departmentSpecificAnalytics" style="display: none;">
                    <!-- Lighting Department Analytics -->
                    <div class="dept-analytics" id="lightingAnalytics" style="display: none;">
                        <div class="dept-header">
                            <h2>💡 Lighting Department Analytics</h2>
                            <p>Comprehensive analysis of street lighting complaints and maintenance</p>
                        </div>
                        <div class="dept-stats-grid">
                            <div class="dept-stat-card">
                                <div class="dept-stat-icon">💡</div>
                                <div class="dept-stat-number">156</div>
                                <div class="dept-stat-label">Total Lighting Complaints</div>
                            </div>
                            <div class="dept-stat-card">
                                <div class="dept-stat-icon">🔧</div>
                                <div class="dept-stat-number">89%</div>
                                <div class="dept-stat-label">Resolution Rate</div>
                            </div>
                            <div class="dept-stat-card">
                                <div class="dept-stat-icon">⚡</div>
                                <div class="dept-stat-number">2.8</div>
                                <div class="dept-stat-label">Avg Resolution Days</div>
                            </div>
                        </div>
                        <div class="dept-charts-grid">
                            <div class="dept-chart-card">
                                <h4>🔍 Lighting Issue Types</h4>
                                <canvas id="lightingIssuesChart"></canvas>
                            </div>
                            <div class="dept-chart-card">
                                <h4>📊 Monthly Trends</h4>
                                <canvas id="lightingTrendsChart"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Health Department Analytics -->
                    <div class="dept-analytics" id="healthAnalytics" style="display: none;">
                        <div class="dept-header">
                            <h2>🏥 Health Department Analytics</h2>
                            <p>Sanitation and health-related complaint analysis</p>
                        </div>
                        <div class="dept-stats-grid">
                            <div class="dept-stat-card">
                                <div class="dept-stat-icon">🏥</div>
                                <div class="dept-stat-number">234</div>
                                <div class="dept-stat-label">Health Complaints</div>
                            </div>
                            <div class="dept-stat-card">
                                <div class="dept-stat-icon">🧹</div>
                                <div class="dept-stat-number">92%</div>
                                <div class="dept-stat-label">Sanitation Coverage</div>
                            </div>
                            <div class="dept-stat-card">
                                <div class="dept-stat-icon">⏱️</div>
                                <div class="dept-stat-number">1.5</div>
                                <div class="dept-stat-label">Avg Response Days</div>
                            </div>
                        </div>
                        <div class="dept-charts-grid">
                            <div class="dept-chart-card">
                                <h4>🗑️ Health Issue Categories</h4>
                                <canvas id="healthIssuesChart"></canvas>
                            </div>
                            <div class="dept-chart-card">
                                <h4>📈 Sanitation Trends</h4>
                                <canvas id="healthTrendsChart"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Water Department Analytics -->
                    <div class="dept-analytics" id="waterAnalytics" style="display: none;">
                        <div class="dept-header">
                            <h2>💧 Water Department Analytics</h2>
                            <p>Water supply and quality complaint analysis</p>
                        </div>
                        <div class="dept-stats-grid">
                            <div class="dept-stat-card">
                                <div class="dept-stat-icon">💧</div>
                                <div class="dept-stat-number">189</div>
                                <div class="dept-stat-label">Water Complaints</div>
                            </div>
                            <div class="dept-stat-card">
                                <div class="dept-stat-icon">🚰</div>
                                <div class="dept-stat-number">95%</div>
                                <div class="dept-stat-label">Supply Coverage</div>
                            </div>
                            <div class="dept-stat-card">
                                <div class="dept-stat-icon">⚡</div>
                                <div class="dept-stat-number">3.2</div>
                                <div class="dept-stat-label">Avg Fix Time (Days)</div>
                            </div>
                        </div>
                        <div class="dept-charts-grid">
                            <div class="dept-chart-card">
                                <h4>💧 Water Issue Types</h4>
                                <canvas id="waterIssuesChart"></canvas>
                            </div>
                            <div class="dept-chart-card">
                                <h4>📊 Supply Quality Trends</h4>
                                <canvas id="waterTrendsChart"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Sewerage Department Analytics -->
                    <div class="dept-analytics" id="sewerageAnalytics" style="display: none;">
                        <div class="dept-header">
                            <h2>🚰 Sewerage & Drainage Analytics</h2>
                            <p>Comprehensive sewerage and drainage system analysis</p>
                        </div>
                        <div class="dept-stats-grid">
                            <div class="dept-stat-card">
                                <div class="dept-stat-icon">🚰</div>
                                <div class="dept-stat-number">167</div>
                                <div class="dept-stat-label">Sewerage Complaints</div>
                            </div>
                            <div class="dept-stat-card">
                                <div class="dept-stat-icon">🔧</div>
                                <div class="dept-stat-number">87%</div>
                                <div class="dept-stat-label">Resolution Rate</div>
                            </div>
                            <div class="dept-stat-card">
                                <div class="dept-stat-icon">⏰</div>
                                <div class="dept-stat-number">4.1</div>
                                <div class="dept-stat-label">Avg Resolution Days</div>
                            </div>
                        </div>
                        <div class="dept-charts-grid">
                            <div class="dept-chart-card">
                                <h4>🚰 Sewerage Issue Types</h4>
                                <canvas id="sewerageIssuesChart"></canvas>
                            </div>
                            <div class="dept-chart-card">
                                <h4>📈 Drainage Performance</h4>
                                <canvas id="sewerageTrendsChart"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Public Works Analytics -->
                    <div class="dept-analytics" id="publicWorksAnalytics" style="display: none;">
                        <div class="dept-header">
                            <h2>🏗️ Public Works Department Analytics</h2>
                            <p>Infrastructure and construction-related complaint analysis</p>
                        </div>
                        <div class="dept-stats-grid">
                            <div class="dept-stat-card">
                                <div class="dept-stat-icon">🏗️</div>
                                <div class="dept-stat-number">123</div>
                                <div class="dept-stat-label">Public Works Complaints</div>
                            </div>
                            <div class="dept-stat-card">
                                <div class="dept-stat-icon">🛠️</div>
                                <div class="dept-stat-number">91%</div>
                                <div class="dept-stat-label">Completion Rate</div>
                            </div>
                            <div class="dept-stat-card">
                                <div class="dept-stat-icon">📅</div>
                                <div class="dept-stat-number">5.8</div>
                                <div class="dept-stat-label">Avg Project Days</div>
                            </div>
                        </div>
                        <div class="dept-charts-grid">
                            <div class="dept-chart-card">
                                <h4>🏗️ Public Works Categories</h4>
                                <canvas id="publicWorksIssuesChart"></canvas>
                            </div>
                            <div class="dept-chart-card">
                                <h4>📊 Infrastructure Trends</h4>
                                <canvas id="publicWorksTrendsChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Advanced Analytics Section -->
                <div class="advanced-analytics-section">
                    <h2> Advanced Analytics & Insights</h2>
                    <div class="advanced-grid">
                        <!-- Predictive Analytics -->
                        <div class="advanced-card">
                            <div class="advanced-header">
                                <h3> Predictive Analytics</h3>
                                <div class="advanced-badge">AI Powered</div>
                            </div>
                            <div class="prediction-content">
                                <div class="prediction-item">
                                    <div class="prediction-icon">🔲</div>
                                    <div class="prediction-text">
                                        <strong>Next Month Forecast :</strong><br>
                                        Expected 15% increase in water complaints due to summer season
                                    </div>
                                </div>
                                <div class="prediction-item">
                                    <div class="prediction-icon">🔲</div>
                                    <div class="prediction-text">
                                        <strong>Alert :</strong><br>
                                        Sewerage complaints likely to spike in Ward 12-15
                                    </div>
                                </div>

                                <div class="prediction-item">
                                    <div class="prediction-icon">🔲</div>
                                    <div class="prediction-text">
                                        <strong>Alert :</strong><br>
                                        Pothole risk on MG Road (pre-monsoon repairs)
                                    </div>
                                </div>
                                <div class="prediction-item">
                                    <div class="prediction-icon">🔲</div>
                                    <div class="prediction-text">
                                        <strong>Alert :</strong><br>
                                        Streetlight outages in Ward 8 (+20% risk)
                                    </div>
                                </div>

                            </div>
                        </div>

                        <!-- Performance Insights -->
                        <div class="advanced-card">
                            <div class="advanced-header">
                                <h3> Performance Insights</h3>
                                <div class="advanced-badge">Smart Analysis</div>
                            </div>
                            <div class="insights-content">
                                <div class="insight-item positive">
                                    <div class="insight-icon">⏺️</div>
                                    <div class="insight-text">Health Dept response time improved by 23%</div>
                                </div>
                                <div class="insight-item warning">
                                    <div class="insight-icon">⏺️</div>
                                    <div class="insight-text">Lighting Dept pending cases up by 12% — needs attention </div>
                                </div>
                                <div class="insight-item positive">
                                    <div class="insight-icon">⏺️</div>
                                    <div class="insight-text">Overall citizen satisfaction increased by 18% </div>
                                </div>

                               <div class="insight-item warning">
                                    <div class="insight-icon">⏺️</div>
                                    <div class="insight-text">Road Dept reduced repair backlog by 15% this month</div>
                                </div>

                                <div class="insight-item positive">
                                    <div class="insight-icon">⏺️</div>
                                    <div class="insight-text">Sewerage Dept cleared 92% of reported blockages within 48 hrs</div>
                                </div>

                                <div class="insight-item warning">
                                    <div class="insight-icon">⏺️</div>
                                    <div class="insight-text">Waste Management achieved 10% faster collection in high-density areas </div>
                                </div>
                            </div>
                        </div>

                        <!-- Real-time Monitoring -->
                        <div class="advanced-card">
                            <div class="advanced-header">
                                <h3> Real-time Monitoring</h3>
                                <div class="advanced-badge live">Live</div>
                            </div>
                            <div class="monitoring-content">
                                <div class="monitor-item">
                                    <div class="monitor-label">Active Complaints</div>
                                    <div class="monitor-value live-counter">2308</div>
                                </div>
                                <div class="monitor-item">
                                    <div class="monitor-label">Officers Online</div>
                                    <div class="monitor-value">142/184</div>
                                </div>

                                <div class="monitor-item">
                                    <div class="monitor-label">Resolved Today</div>
                                    <div class="monitor-value">126/218</div>
                                </div>

                                <div class="monitor-item">
                                    <div class="monitor-label">Citizen Satisfaction</div>
                                    <div class="monitor-value">67 %</div>
                                </div>

                                <div class="monitor-item">
                                    <div class="monitor-label">Avg Response Time</div>
                                    <div class="monitor-value">2.3 hrs</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Map Section -->
            <div class="content-section" id="map">
                <div class="page-header">
                    <h1 class="page-title">Complaint Location Map</h1>
                    <p class="page-subtitle">Geographic distribution of complaints with real-time tracking</p>
                </div>

                <div class="map-section">
                    <div id="map"></div>
                </div>
            </div>

            <!-- Feedback Section -->
<div class="content-section" id="feedback">
    <div class="page-header">
        <h1 class="page-title">Citizen Feedback</h1>
        <p class="page-subtitle">Reviews and ratings from citizens with sentiment analysis</p>
    </div>

    <div class="feedback-section">
        <div class="feedback-card">
            <div class="feedback-header">
                <strong>Rajesh Kumar</strong>
                <div class="rating">
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                </div>
            </div>
            <div class="feedback-text">
                "Excellent service! My water supply complaint was resolved within 2 days. Very satisfied with the quick response."
            </div>
            <div class="feedback-meta">
                Complaint ID: CR-2024-002 • 2024-01-15
            </div>
        </div>

        <div class="feedback-card">
            <div class="feedback-header">
                <strong>Priya Sharma</strong>
                <div class="rating">
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="far fa-star"></i>
                </div>
            </div>
            <div class="feedback-text">
                "Good response time, but the road repair quality could be better. Overall satisfied with the service."
            </div>
            <div class="feedback-meta">
                Complaint ID: CR-2024-001 • 2024-01-14
            </div>
        </div>

        <div class="feedback-card">
            <div class="feedback-header">
                <strong>Amit Patel</strong>
                <div class="rating">
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="far fa-star"></i>
                    <i class="far fa-star"></i>
                </div>
            </div>
            <div class="feedback-text">
                "The complaint was resolved but took longer than expected. Communication could be improved."
            </div>
            <div class="feedback-meta">
                Complaint ID: CR-2024-003 • 2024-01-13
            </div>
        </div>

        <div class="feedback-card">
            <div class="feedback-header">
                <strong>Sunita Devi</strong>
                <div class="rating">
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                </div>
            </div>
            <div class="feedback-text">
                "Outstanding service! The sanitation team was very professional and resolved the issue quickly."
            </div>
            <div class="feedback-meta">
                Complaint ID: CR-2024-004 • 2024-01-12
            </div>
        </div>
    </div>

    <!-- Load More Box -->
    <div class="load-more-box" style="text-align:center; margin-top:20px;">
        <a href="feedbackadmin.html" target="_blank" 
           style="display:inline-block; padding:12px 20px; background:#0d6efd; color:#fff; text-decoration:none; border-radius:8px; font-weight:bold;">
            📝 Load More
        </a>
    </div>
</div>


            <!-- Officer Accountability Section -->
<div class="content-section" id="officer-accountability">
    <div class="page-header">
        <h1 class="page-title">Officer Accountability Complaint System</h1>
        <p class="page-subtitle">Monitor officer performance and accountability with advanced metrics</p>
    </div>

    <div class="summary-cards">
        <div class="summary-card">
            <div class="card-header">
                <div class="card-title">Total Officers</div>
                <div class="card-icon bg-info">
                    <i class="fas fa-users"></i>
                </div>
            </div>
            <div class="card-value">1247</div>
            <div class="card-change text-info">
                <span>Active officers</span>
            </div>
        </div>

        <div class="summary-card">
            <div class="card-header">
                <div class="card-title">Performance Issues</div>
                <div class="card-icon bg-warning">
                    <i class="fas fa-exclamation-circle"></i>
                </div>
            </div>
            <div class="card-value text-warning">47</div>
            <div class="card-change text-warning">
                <span>Requires attention</span>
            </div>
        </div>

        <div class="summary-card">
            <div class="card-header">
                <div class="card-title">Avg Response Rate</div>
                <div class="card-icon bg-success">
                    <i class="fas fa-chart-line"></i>
                </div>
            </div>
            <div class="card-value text-success">94.2%</div>
            <div class="card-change text-success">
                <span>This month</span>
            </div>
        </div>
    </div>

    <!-- Load More Box -->
    <div class="load-more-box" style="text-align:center; margin-top:20px;">
        <a href="officerscoplaintadmin.html" target="_blank" 
           style="display:inline-block; padding:12px 20px; background:#0d6efd; color:#fff; text-decoration:none; border-radius:8px; font-weight:bold;">
            🔎 Load More
        </a>
    </div>
</div>


           <!-- Civic Violation Section -->
<div class="content-section" id="civic-violation">
    <div class="page-header">
        <h1 class="page-title">Civic Violation Management</h1>
        <p class="page-subtitle">Track and manage civic violations and penalties with smart enforcement</p>
    </div>

    <div class="summary-cards">
        <div class="summary-card">
            <div class="card-header">
                <div class="card-title">Total Violations</div>
                <div class="card-icon bg-danger">
                    <i class="fas fa-ban"></i>
                </div>
            </div>
            <div class="card-value text-danger">2,847</div>
            <div class="card-change text-danger">
                <span>This month</span>
            </div>
        </div>

        <div class="summary-card">
            <div class="card-header">
                <div class="card-title">Penalties Collected</div>
                <div class="card-icon bg-success">
                    <i class="fas fa-rupee-sign"></i>
                </div>
            </div>
            <div class="card-value text-success">₹18,45,600</div>
            <div class="card-change text-success">
                <span>This month</span>
            </div>
        </div>

        <div class="summary-card">
            <div class="card-header">
                <div class="card-title">Pending Cases</div>
                <div class="card-icon bg-warning">
                    <i class="fas fa-hourglass-half"></i>
                </div>
            </div>
            <div class="card-value text-warning">432</div>
            <div class="card-change text-warning">
                <span>Under review</span>
            </div>
        </div>
    </div>

    <!-- Load More Box -->
    <div class="load-more-box" style="text-align:center; margin-top:20px;">
        <a href="civicviolationadmin.html" target="_blank" 
           style="display:inline-block; padding:12px 20px; background:#0d6efd; color:#fff; text-decoration:none; border-radius:8px; font-weight:bold;">
            📂 Load More
        </a>
    </div>
</div>

           <!-- Ward Section -->
<div class="content-section" id="ward">
    <div class="page-header">
        <h1 class="page-title">Ward Management</h1>
        <p class="page-subtitle">Manage ward-wise operations and data with comprehensive oversight</p>
    </div>

    <div class="summary-cards">
        <div class="summary-card">
            <div class="card-header">
                <div class="card-title">Total Wards</div>
                <div class="card-icon bg-info">
                    <i class="fas fa-map"></i>
                </div>
            </div>
            <div class="card-value">85</div>
            <div class="card-change">
                <span>Active wards</span>
            </div>
        </div>

        <div class="summary-card">
            <div class="card-header">
                <div class="card-title">Ward Councillors</div>
                <div class="card-icon bg-success">
                    <i class="fas fa-user-tie"></i>
                </div>
            </div>
            <div class="card-value text-success">85</div>
            <div class="card-change text-success">
                <span>All assigned</span>
            </div>
        </div>

        <div class="summary-card">
            <div class="card-header">
                <div class="card-title">Population Coverage</div>
                <div class="card-icon bg-info">
                    <i class="fas fa-users"></i>
                </div>
            </div>
            <div class="card-value">2.8M</div>
            <div class="card-change">
                <span>Citizens served</span>
            </div>
        </div>
    </div>

    <!-- Load More Box -->
    <div class="load-more-box" style="text-align:center; margin-top:20px;">
        <a href="wardadmin.html" target="_blank" 
           style="display:inline-block; padding:12px 20px; background:#0d6efd; color:#fff; text-decoration:none; border-radius:8px; font-weight:bold;">
            🗂️ Load More
        </a>
    </div>
</div>


<!-- Zone Section -->
<div class="content-section" id="zone">
    <div class="page-header">
        <h1 class="page-title">Zone Management</h1>
        <p class="page-subtitle">Manage zonal operations and administration with strategic planning</p>
    </div>

    <div class="summary-cards">
        <div class="summary-card">
            <div class="card-header">
                <div class="card-title">Total Zones</div>
                <div class="card-icon bg-info">
                    <i class="fas fa-layer-group"></i>
                </div>
            </div>
            <div class="card-value">12</div>
            <div class="card-change">
                <span>Administrative zones</span>
            </div>
        </div>

        <div class="summary-card">
            <div class="card-header">
                <div class="card-title">Zone Officers</div>
                <div class="card-icon bg-success">
                    <i class="fas fa-user-shield"></i>
                </div>
            </div>
            <div class="card-value text-success">12</div>
            <div class="card-change text-success">
                <span>All zones covered</span>
            </div>
        </div>

        <div class="summary-card">
            <div class="card-header">
                <div class="card-title">Zone Performance</div>
                <div class="card-icon bg-success">
                    <i class="fas fa-trophy"></i>
                </div>
            </div>
            <div class="card-value text-success">92%</div>
            <div class="card-change text-success">
                <span>Avg efficiency</span>
            </div>
        </div>
    </div>

    <!-- Load More Box -->
    <div class="load-more-box" style="text-align:center; margin-top:20px;">
        <a href="zoneadmin.html" target="_blank" 
           style="display:inline-block; padding:12px 20px; background:#0d6efd; color:#fff; text-decoration:none; border-radius:8px; font-weight:bold;">
            📊 Load More
        </a>
    </div>
</div>


           <!-- AI Assistant Section -->
<div class="content-section" id="ai-assistant">
    <div class="page-header">
        <h1 class="page-title">AI Assistant - Nigam Saathi</h1>
        <p class="page-subtitle">Intelligent assistant for citizen services with machine learning capabilities</p>
    </div>

    <div class="summary-cards">
        <div class="summary-card">
            <div class="card-header">
                <div class="card-title">Total Interactions</div>
                <div class="card-icon bg-info">
                    <i class="fas fa-comments"></i>
                </div>
            </div>
            <div class="card-value">15,432</div>
            <div class="card-change text-info">
                <span>This month</span>
            </div>
        </div>

        <div class="summary-card">
            <div class="card-header">
                <div class="card-title">Resolution Rate</div>
                <div class="card-icon bg-success">
                    <i class="fas fa-check-circle"></i>
                </div>
            </div>
            <div class="card-value text-success">78%</div>
            <div class="card-change text-success">
                <span>Auto-resolved</span>
            </div>
        </div>

        <div class="summary-card">
            <div class="card-header">
                <div class="card-title">Avg Response Time</div>
                <div class="card-icon bg-success">
                    <i class="fas fa-clock"></i>
                </div>
            </div>
            <div class="card-value text-success">2.3s</div>
            <div class="card-change text-success">
                <span>Lightning fast</span>
            </div>
        </div>
    </div>

    <!-- Load More Box -->
    <div class="load-more-box" style="text-align:center; margin-top:20px;">
        <a href="aiasinstant.html" target="_blank" 
           style="display:inline-block; padding:12px 20px; background:#0d6efd; color:#fff; text-decoration:none; border-radius:8px; font-weight:bold;">
            🤖 Load More
        </a>
    </div>
</div>


           <!-- WhatsApp Channel Section -->
<div class="content-section" id="whatsapp">
    <div class="page-header">
        <h1 class="page-title">WhatsApp Channel</h1>
        <p class="page-subtitle">Manage WhatsApp-based citizen services with automated responses</p>
    </div>

    <div class="summary-cards">
        <div class="summary-card">
            <div class="card-header">
                <div class="card-title">Active Users</div>
                <div class="card-icon bg-success">
                    <i class="fab fa-whatsapp"></i>
                </div>
            </div>
            <div class="card-value text-success">8,945</div>
            <div class="card-change text-success">
                <span>Registered users</span>
            </div>
        </div>

        <div class="summary-card">
            <div class="card-header">
                <div class="card-title">Messages Today</div>
                <div class="card-icon bg-info">
                    <i class="fas fa-envelope"></i>
                </div>
            </div>
            <div class="card-value">2,156</div>
            <div class="card-change text-info">
                <span>Incoming messages</span>
            </div>
        </div>

        <div class="summary-card">
            <div class="card-header">
                <div class="card-title">Response Rate</div>
                <div class="card-icon bg-success">
                    <i class="fas fa-reply"></i>
                </div>
            </div>
            <div class="card-value text-success">94%</div>
            <div class="card-change text-success">
                <span>Within 1 hour</span>
            </div>
        </div>
    </div>

    <!-- Load More Box -->
    <div class="load-more-box" style="text-align:center; margin-top:20px;">
        <a href="whatsappchaneeladmin.html" target="_blank" 
           style="display:inline-block; padding:12px 20px; background:#0d6efd; color:#fff; text-decoration:none; border-radius:8px; font-weight:bold;">
            💬 Load More
        </a>
    </div>
</div>

           <!-- Green Waste Section -->
<div class="content-section" id="green-waste">
    <div class="page-header">
        <h1 class="page-title">Green Waste Management</h1>
        <p class="page-subtitle">Track and manage green waste collection and processing with sustainability focus</p>
    </div>

    <div class="summary-cards">
        <div class="summary-card">
            <div class="card-header">
                <div class="card-title">Waste Collected</div>
                <div class="card-icon bg-success">
                    <i class="fas fa-leaf"></i>
                </div>
            </div>
            <div class="card-value text-success">145</div>
            <div class="card-change text-success">
                <span>Tons this month</span>
            </div>
        </div>

        <div class="summary-card">
            <div class="card-header">
                <div class="card-title">Compost Produced</div>
                <div class="card-icon bg-warning">
                    <i class="fas fa-seedling"></i>
                </div>
            </div>
            <div class="card-value text-warning">89</div>
            <div class="card-change text-warning">
                <span>Tons processed</span>
            </div>
        </div>

        <div class="summary-card">
            <div class="card-header">
                <div class="card-title">Collection Points</div>
                <div class="card-icon bg-info">
                    <i class="fas fa-map-marker-alt"></i>
                </div>
            </div>
            <div class="card-value">67</div>
            <div class="card-change">
                <span>Active locations</span>
            </div>
        </div>
    </div>

    <!-- Load More Box -->
    <div class="load-more-box" style="text-align:center; margin-top:20px;">
        <a href="green wasteadmin.html" target="_blank" 
           style="display:inline-block; padding:12px 20px; background:#0d6efd; color:#fff; text-decoration:none; border-radius:8px; font-weight:bold;">
            🌱 Load More
        </a>
    </div>
</div>

           <!-- Certificates Section -->
<div class="content-section" id="certificates">
    <div class="page-header">
        <h1 class="page-title">Certificates Management</h1>
        <p class="page-subtitle">Manage digital certificates and document services with blockchain verification</p>
    </div>

    <div class="summary-cards">
        <div class="summary-card">
            <div class="card-header">
                <div class="card-title">Certificates Issued</div>
                <div class="card-icon bg-success">
                    <i class="fas fa-certificate"></i>
                </div>
            </div>
            <div class="card-value text-success">2847</div>
            <div class="card-change text-success">
                <span>This month</span>
            </div>
        </div>

        <div class="summary-card">
            <div class="card-header">
                <div class="card-title">Pending Applications</div>
                <div class="card-icon bg-warning">
                    <i class="fas fa-hourglass-half"></i>
                </div>
            </div>
            <div class="card-value text-warning">87</div>
            <div class="card-change text-warning">
                <span>Under processing</span>
            </div>
        </div>

        <div class="summary-card">
            <div class="card-header">
                <div class="card-title">Avg Processing Time</div>
                <div class="card-icon bg-info">
                    <i class="fas fa-clock"></i>
                </div>
            </div>
            <div class="card-value">3.2</div>
            <div class="card-change">
                <span>Days average</span>
            </div>
        </div>
    </div>

    <!-- Load More Box -->
    <div class="load-more-box" style="text-align:center; margin-top:20px;">
        <a href="certificateadmin.html" target="_blank" 
           style="display:inline-block; padding:12px 20px; background:#0d6efd; color:#fff; text-decoration:none; border-radius:8px; font-weight:bold;">
            📄 Load More
        </a>
    </div>
</div>

           <!-- Emails/Contact Section -->
<div class="content-section" id="emails">
    <div class="page-header">
        <h1 class="page-title">Emails / Contact Management</h1>
        <p class="page-subtitle">Manage email communications and contact requests with intelligent routing</p>
    </div>

    <div class="summary-cards">
        <div class="summary-card">
            <div class="card-header">
                <div class="card-title">Emails Received</div>
                <div class="card-icon bg-info">
                    <i class="fas fa-envelope"></i>
                </div>
            </div>
            <div class="card-value">2,847</div>
            <div class="card-change text-info">
                <span>This month</span>
            </div>
        </div>

        <div class="summary-card">
            <div class="card-header">
                <div class="card-title">Response Rate</div>
                <div class="card-icon bg-success">
                    <i class="fas fa-reply"></i>
                </div>
            </div>
            <div class="card-value text-success">76%</div>
            <div class="card-change text-success">
                <span>Within 24 hours</span>
            </div>
        </div>

        <div class="summary-card">
            <div class="card-header">
                <div class="card-title">Pending Responses</div>
                <div class="card-icon bg-warning">
                    <i class="fas fa-clock"></i>
                </div>
            </div>
            <div class="card-value text-warning">23</div>
            <div class="card-change text-warning">
                <span>Requires attention</span>
            </div>
        </div>
    </div>

    <!-- Load More Box -->
    <div class="load-more-box" style="text-align:center; margin-top:20px;">
        <a href="emailadmin.html" target="_blank" 
           style="display:inline-block; padding:12px 20px; background:#0d6efd; color:#fff; text-decoration:none; border-radius:8px; font-weight:bold;">
            📧 Load More
        </a>
    </div>
</div>

            <!-- Other Services Section -->
<div class="content-section" id="other-services">
    <div class="page-header">
        <h1 class="page-title">Other Services</h1>
        <p class="page-subtitle">Additional municipal services and utilities with comprehensive management</p>
    </div>

    <div class="summary-cards">
        <div class="summary-card">
            <div class="card-header">
                <div class="card-title">Service Categories</div>
                <div class="card-icon bg-info">
                    <i class="fas fa-th-large"></i>
                </div>
            </div>
            <div class="card-value">24</div>
            <div class="card-change">
                <span>Active categories</span>
            </div>
        </div>

        <div class="summary-card">
            <div class="card-header">
                <div class="card-title">Service Requests</div>
                <div class="card-icon bg-success">
                    <i class="fas fa-clipboard-check"></i>
                </div>
            </div>
            <div class="card-value text-success">456</div>
            <div class="card-change text-success">
                <span>This month</span>
            </div>
        </div>

        <div class="summary-card">
            <div class="card-header">
                <div class="card-title">Completion Rate</div>
                <div class="card-icon bg-success">
                    <i class="fas fa-check-double"></i>
                </div>
            </div>
            <div class="card-value text-success">91%</div>
            <div class="card-change text-success">
                <span>Service efficiency</span>
            </div>
        </div>
    </div>

    <!-- Load More Box -->
    <div class="load-more-box" style="text-align:center; margin-top:20px;">
        <a href="otherserviceadmin.html" target="_blank" 
           style="display:inline-block; padding:12px 20px; background:#0d6efd; color:#fff; text-decoration:none; border-radius:8px; font-weight:bold;">
            🛠️ Load More
        </a>
    </div>
</div>

    <!-- Complaint Details Modal -->
    <div id="complaintModal" class="complaint-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="modalTitle">📋 Complaint Details</h2>
                <button class="close-btn" onclick="closeComplaintModal()">&times;</button>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- Content will be dynamically loaded here -->
            </div>
        </div>
    </div>

    <!-- External Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

    <script>
        // Navigation functionality
        document.addEventListener('DOMContentLoaded', function() {
            const navItems = document.querySelectorAll('.nav-item');
            const contentSections = document.querySelectorAll('.content-section');

            navItems.forEach(item => {
                item.addEventListener('click', function() {
                    const targetSection = this.getAttribute('data-section');
                    
                    // Remove active class from all nav items
                    navItems.forEach(nav => nav.classList.remove('active'));
                    // Add active class to clicked item
                    this.classList.add('active');
                    
                    // Hide all content sections
                    contentSections.forEach(section => section.classList.remove('active'));
                    // Show target section
                    document.getElementById(targetSection).classList.add('active');
                    
                    // Initialize map if map section is selected
                    if (targetSection === 'map') {
                        setTimeout(initMap, 100);
                    }
                });
            });



            // Table filters
            const departmentFilter = document.getElementById('departmentFilter');
            const statusFilter = document.getElementById('statusFilter');
            const subtypeFilter = document.getElementById('subtypeFilter');
            const resetFiltersBtn = document.getElementById('resetFiltersBtn');

            if (departmentFilter) {
                [departmentFilter, statusFilter, subtypeFilter].forEach(filter => {
                    filter.addEventListener('change', filterTable);
                });
            }

            // Reset filters functionality
            if (resetFiltersBtn) {
                resetFiltersBtn.addEventListener('click', function() {
                    departmentFilter.value = '';
                    statusFilter.value = '';
                    subtypeFilter.value = '';
                    filterTable(); // Apply the reset
                    
                    // Show success notification
                    const notification = document.createElement('div');
                    notification.style.cssText = `
                        position: fixed;
                        top: 20px;
                        right: 20px;
                        background: linear-gradient(135deg, var(--accent-green), var(--accent-blue));
                        color: white;
                        padding: 15px 25px;
                        border-radius: 10px;
                        box-shadow: 0 10px 30px rgba(0, 255, 136, 0.3);
                        z-index: 10000;
                        font-weight: 600;
                        animation: slideIn 0.3s ease;
                    `;
                    notification.textContent = '🔄 Filters reset successfully!';
                    document.body.appendChild(notification);
                    
                    setTimeout(() => {
                        notification.remove();
                    }, 3000);
                });
            }

            // Initialize charts
            initCharts();
            
            // Analytics department filter
            const analyticsDeptFilter = document.getElementById('analyticsDepartmentFilter');
            if (analyticsDeptFilter) {
                analyticsDeptFilter.addEventListener('change', function() {
                    const selectedDept = this.value;
                    handleDepartmentAnalytics(selectedDept);
                });
            }

            // Chart control buttons
            document.addEventListener('click', function(e) {
                if (e.target.classList.contains('chart-control-btn')) {
                    // Remove active class from siblings
                    const siblings = e.target.parentNode.querySelectorAll('.chart-control-btn');
                    siblings.forEach(btn => btn.classList.remove('active'));
                    
                    // Add active class to clicked button
                    e.target.classList.add('active');
                    
                    // Update chart based on period
                    const period = e.target.getAttribute('data-period');
                    updateChartPeriod(period);
                }
            });
        });

        // Handle department-specific analytics
        function handleDepartmentAnalytics(department) {
            const mainGrid = document.getElementById('analyticsMainGrid');
            const deptSpecific = document.getElementById('departmentSpecificAnalytics');
            const allDeptAnalytics = document.querySelectorAll('.dept-analytics');
            
            if (department === 'all') {
                mainGrid.style.display = 'grid';
                deptSpecific.style.display = 'none';
                updateOverviewStats('all');
            } else {
                mainGrid.style.display = 'none';
                deptSpecific.style.display = 'block';
                
                // Hide all department analytics
                allDeptAnalytics.forEach(dept => dept.style.display = 'none');
                
                // Show selected department analytics
                const selectedDeptAnalytics = document.getElementById(department + 'Analytics');
                if (selectedDeptAnalytics) {
                    selectedDeptAnalytics.style.display = 'block';
                }
                
                updateOverviewStats(department);
                initDepartmentCharts(department);
            }
        }

        // Update overview statistics based on department
        function updateOverviewStats(department) {
            const stats = getDepartmentStats(department);
            
            document.getElementById('totalComplaintsNum').textContent = stats.total;
            document.getElementById('resolvedComplaintsNum').textContent = stats.resolved;
            document.getElementById('pendingComplaintsNum').textContent = stats.pending;
            document.getElementById('avgResolutionNum').textContent = stats.avgDays;
        }

        // Get department-specific statistics
        function getDepartmentStats(department) {
            const allStats = {
                total: '1,247',
                resolved: '892',
                pending: '298',
                avgDays: '4.2'
            };
            
            const deptStats = {
                lighting: { total: '156', resolved: '139', pending: '17', avgDays: '2.8' },
                health: { total: '234', resolved: '215', pending: '19', avgDays: '1.5' },
                water: { total: '189', resolved: '179', pending: '10', avgDays: '3.2' },
                sewerage: { total: '167', resolved: '145', pending: '22', avgDays: '4.1' },
                'public-works': { total: '123', resolved: '112', pending: '11', avgDays: '5.8' },
                'stray-animals': { total: '89', resolved: '78', pending: '11', avgDays: '3.5' },
                horticulture: { total: '45', resolved: '42', pending: '3', avgDays: '2.1' },
                'consumer-charges': { total: '67', resolved: '63', pending: '4', avgDays: '1.8' },
                'pan-gutka': { total: '23', resolved: '21', pending: '2', avgDays: '1.2' },
                'pm-housing': { total: '34', resolved: '31', pending: '3', avgDays: '6.5' },
                'paid-sanitization': { total: '12', resolved: '11', pending: '1', avgDays: '2.3' }
            };
            
            return department === 'all' ? allStats : (deptStats[department] || allStats);
        }

        // Initialize department-specific charts
        function initDepartmentCharts(department) {
            switch(department) {
                case 'lighting':
                    initLightingCharts();
                    break;
                case 'health':
                    initHealthCharts();
                    break;
                case 'water':
                    initWaterCharts();
                    break;
                case 'sewerage':
                    initSewerageCharts();
                    break;
                case 'public-works':
                    initPublicWorksCharts();
                    break;
            }
        }

        // Lighting Department Charts
        function initLightingCharts() {
            // Lighting Issues Chart
            const lightingIssuesCtx = document.getElementById('lightingIssuesChart');
            if (lightingIssuesCtx) {
                new Chart(lightingIssuesCtx, {
                    type: 'doughnut',
                    data: {
                        labels: [
                            'Street Light Not Working',
                            'Street Light Flickering', 
                            'Broken Light Pole',
                            'New Light Installation',
                            'Hanging Wires',
                            'Day Burning'
                        ],
                        datasets: [{
                            data: [45, 28, 22, 18, 15, 12],
                            backgroundColor: [
                                '#fbbf24',
                                '#f59e0b',
                                '#d97706',
                                '#b45309',
                                '#92400e',
                                '#78350f'
                            ],
                            borderWidth: 0,
                            hoverOffset: 10
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    usePointStyle: true,
                                    padding: 15,
                                    font: { size: 11 }
                                }
                            }
                        }
                    }
                });
            }

            // Lighting Trends Chart
            const lightingTrendsCtx = document.getElementById('lightingTrendsChart');
            if (lightingTrendsCtx) {
                new Chart(lightingTrendsCtx, {
                    type: 'line',
                    data: {
                        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                        datasets: [{
                            label: 'New Complaints',
                            data: [25, 28, 22, 30, 26, 25],
                            borderColor: '#fbbf24',
                            backgroundColor: 'rgba(251, 191, 36, 0.1)',
                            tension: 0.4,
                            fill: true,
                            borderWidth: 3
                        }, {
                            label: 'Resolved',
                            data: [23, 26, 20, 28, 24, 23],
                            borderColor: '#00ff88',
                            backgroundColor: 'rgba(0, 255, 136, 0.1)',
                            tension: 0.4,
                            fill: true,
                            borderWidth: 3
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'top',
                                labels: {
                                    usePointStyle: true,
                                    padding: 20
                                }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                grid: { color: '#334155' }
                            },
                            x: {
                                grid: { color: '#334155' }
                            }
                        }
                    }
                });
            }
        }

        // Health Department Charts
        function initHealthCharts() {
            const healthIssuesCtx = document.getElementById('healthIssuesChart');
            if (healthIssuesCtx) {
                new Chart(healthIssuesCtx, {
                    type: 'bar',
                    data: {
                        labels: [
                            'Garbage Not Collected',
                            'Dustbin Full',
                            'Cleaner Absent',
                            'Dead Animal',
                            'Bad Smell',
                            'Medical Waste',
                            'Pest Problem'
                        ],
                        datasets: [{
                            label: 'Complaints',
                            data: [52, 38, 32, 28, 25, 18, 15],
                            backgroundColor: [
                                '#00ff88',
                                '#10b981',
                                '#059669',
                                '#047857',
                                '#065f46',
                                '#064e3b',
                                '#022c22'
                            ],
                            borderRadius: 8,
                            borderSkipped: false
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                grid: { color: '#334155' }
                            },
                            x: {
                                grid: { color: '#334155' },
                                ticks: { maxRotation: 45 }
                            }
                        }
                    }
                });
            }

            const healthTrendsCtx = document.getElementById('healthTrendsChart');
            if (healthTrendsCtx) {
                new Chart(healthTrendsCtx, {
                    type: 'area',
                    data: {
                        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                        datasets: [{
                            label: 'Health Complaints',
                            data: [42, 38, 45, 40, 38, 39],
                            borderColor: '#00ff88',
                            backgroundColor: 'rgba(0, 255, 136, 0.2)',
                            tension: 0.4,
                            fill: true,
                            borderWidth: 3
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: true,
                                grid: { color: '#334155' }
                            },
                            x: {
                                grid: { color: '#334155' }
                            }
                        }
                    }
                });
            }
        }

        // Water Department Charts
        function initWaterCharts() {
            const waterIssuesCtx = document.getElementById('waterIssuesChart');
            if (waterIssuesCtx) {
                new Chart(waterIssuesCtx, {
                    type: 'polarArea',
                    data: {
                        labels: [
                            'No Water Supply',
                            'Pipeline Leakage',
                            'Contaminated Water',
                            'Boring Damaged',
                            'Pipeline Debris'
                        ],
                        datasets: [{
                            data: [68, 45, 32, 28, 16],
                            backgroundColor: [
                                '#0ea5e9',
                                '#0284c7',
                                '#0369a1',
                                '#075985',
                                '#0c4a6e'
                            ],
                            borderWidth: 2,
                            borderColor: '#1e293b'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    usePointStyle: true,
                                    padding: 15
                                }
                            }
                        }
                    }
                });
            }

            const waterTrendsCtx = document.getElementById('waterTrendsChart');
            if (waterTrendsCtx) {
                new Chart(waterTrendsCtx, {
                    type: 'line',
                    data: {
                        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                        datasets: [{
                            label: 'Water Quality Issues',
                            data: [15, 18, 22, 28, 32, 30],
                            borderColor: '#ef4444',
                            backgroundColor: 'rgba(239, 68, 68, 0.1)',
                            tension: 0.4,
                            fill: true,
                            borderWidth: 3
                        }, {
                            label: 'Supply Issues',
                            data: [25, 23, 28, 30, 26, 28],
                            borderColor: '#0ea5e9',
                            backgroundColor: 'rgba(14, 165, 233, 0.1)',
                            tension: 0.4,
                            fill: true,
                            borderWidth: 3
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'top',
                                labels: {
                                    usePointStyle: true,
                                    padding: 20
                                }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                grid: { color: '#334155' }
                            },
                            x: {
                                grid: { color: '#334155' }
                            }
                        }
                    }
                });
            }
        }

        // Sewerage Department Charts
        function initSewerageCharts() {
            const sewerageIssuesCtx = document.getElementById('sewerageIssuesChart');
            if (sewerageIssuesCtx) {
                new Chart(sewerageIssuesCtx, {
                    type: 'doughnut',
                    data: {
                        labels: [
                            'Sewer Blocked',
                            'Water Logged Drain',
                            'Manhole Cover Broken',
                            'Septic Tank Overflow',
                            'Sewage Leakage',
                            'Chamber Issues',
                            'Others'
                        ],
                        datasets: [{
                            data: [35, 28, 22, 18, 15, 12, 8],
                            backgroundColor: [
                                '#8b5cf6',
                                '#7c3aed',
                                '#6d28d9',
                                '#5b21b6',
                                '#4c1d95',
                                '#3730a3',
                                '#312e81'
                            ],
                            borderWidth: 0,
                            hoverOffset: 10
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    usePointStyle: true,
                                    padding: 15,
                                    font: { size: 11 }
                                }
                            }
                        }
                    }
                });
            }

            const sewerageTrendsCtx = document.getElementById('sewerageTrendsChart');
            if (sewerageTrendsCtx) {
                new Chart(sewerageTrendsCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                        datasets: [{
                            label: 'Resolved',
                            data: [25, 28, 22, 26, 24, 27],
                            backgroundColor: '#00ff88',
                            borderRadius: 8,
                            borderSkipped: false
                        }, {
                            label: 'Pending',
                            data: [5, 4, 6, 4, 5, 3],
                            backgroundColor: '#fbbf24',
                            borderRadius: 8,
                            borderSkipped: false
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'top',
                                labels: {
                                    usePointStyle: true,
                                    padding: 20
                                }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                grid: { color: '#334155' }
                            },
                            x: {
                                grid: { color: '#334155' }
                            }
                        }
                    }
                });
            }
        }

        // Public Works Charts
        function initPublicWorksCharts() {
            const publicWorksIssuesCtx = document.getElementById('publicWorksIssuesChart');
            if (publicWorksIssuesCtx) {
                new Chart(publicWorksIssuesCtx, {
                    type: 'radar',
                    data: {
                        labels: [
                            'Water Overflow',
                            'Stagnant Water',
                            'Construction Debris',
                            'Road Repairs',
                            'Infrastructure'
                        ],
                        datasets: [{
                            label: 'Current Month',
                            data: [45, 38, 32, 28, 22],
                            borderColor: '#f59e0b',
                            backgroundColor: 'rgba(245, 158, 11, 0.2)',
                            borderWidth: 3,
                            pointBackgroundColor: '#f59e0b',
                            pointBorderColor: '#fff',
                            pointBorderWidth: 2
                        }, {
                            label: 'Previous Month',
                            data: [38, 42, 28, 32, 25],
                            borderColor: '#0ea5e9',
                            backgroundColor: 'rgba(14, 165, 233, 0.1)',
                            borderWidth: 3,
                            pointBackgroundColor: '#0ea5e9',
                            pointBorderColor: '#fff',
                            pointBorderWidth: 2
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'top',
                                labels: {
                                    usePointStyle: true,
                                    padding: 20
                                }
                            }
                        },
                        scales: {
                            r: {
                                beginAtZero: true,
                                grid: { color: '#334155' },
                                angleLines: { color: '#334155' },
                                pointLabels: { color: '#94a3b8' }
                            }
                        }
                    }
                });
            }

            const publicWorksTrendsCtx = document.getElementById('publicWorksTrendsChart');
            if (publicWorksTrendsCtx) {
                new Chart(publicWorksTrendsCtx, {
                    type: 'line',
                    data: {
                        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                        datasets: [{
                            label: 'Project Completion Rate (%)',
                            data: [85, 88, 92, 89, 91, 94],
                            borderColor: '#00ff88',
                            backgroundColor: 'rgba(0, 255, 136, 0.1)',
                            tension: 0.4,
                            fill: true,
                            borderWidth: 3
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: true,
                                max: 100,
                                grid: { color: '#334155' }
                            },
                            x: {
                                grid: { color: '#334155' }
                            }
                        }
                    }
                });
            }
        }

        // Update chart period
        function updateChartPeriod(period) {
            // This would typically update the chart data based on the selected period
            console.log('Updating charts for period:', period);
            // In a real application, you would fetch new data and update the charts
        }

        // Chart initialization
        function initCharts() {
            // Chart.js default config for dark theme
            Chart.defaults.color = '#94a3b8';
            Chart.defaults.borderColor = '#334155';

            // Trend Chart
            const trendCtx = document.getElementById('trendChart');
            if (trendCtx) {
                new Chart(trendCtx, {
                    type: 'line',
                    data: {
                        labels: ['Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                        datasets: [{
                            label: 'Total Complaints',
                            data: [120, 150, 180, 140, 200, 247],
                            borderColor: '#0ea5e9',
                            backgroundColor: 'rgba(14, 165, 233, 0.1)',
                            tension: 0.4,
                            fill: true,
                            borderWidth: 3
                        }, {
                            label: 'Resolved',
                            data: [100, 130, 160, 120, 170, 200],
                            borderColor: '#00ff88',
                            backgroundColor: 'rgba(0, 255, 136, 0.1)',
                            tension: 0.4,
                            fill: true,
                            borderWidth: 3
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'top',
                                labels: {
                                    usePointStyle: true,
                                    padding: 20
                                }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                grid: {
                                    color: '#334155'
                                }
                            },
                            x: {
                                grid: {
                                    color: '#334155'
                                }
                            }
                        }
                    }
                });
            }

            // Category Chart (Donut)
            const categoryCtx = document.getElementById('categoryChart');
            if (categoryCtx) {
                new Chart(categoryCtx, {
                    type: 'doughnut',
                    data: {
                        labels: ['Infrastructure', 'Service', 'Maintenance', 'Others'],
                        datasets: [{
                            data: [35, 25, 30, 10],
                            backgroundColor: [
                                '#0ea5e9',
                                '#00ff88',
                                '#fbbf24',
                                '#ef4444'
                            ],
                            borderWidth: 0,
                            hoverOffset: 10
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    usePointStyle: true,
                                    padding: 15
                                }
                            }
                        }
                    }
                });
            }

            // Department Distribution Chart (Analytics)
            const departmentDistributionCtx = document.getElementById('departmentDistributionChart');
            if (departmentDistributionCtx) {
                new Chart(departmentDistributionCtx, {
                    type: 'bar',
                    data: {
                        labels: [
                            'Health Dept',
                            'Water Dept', 
                            'Sewerage Dept',
                            'Lighting Dept',
                            'Public Works',
                            'Stray Animals',
                            'Consumer Charges',
                            'Horticulture',
                            'PM Housing',
                            'Pan/Gutka',
                            'Sanitization'
                        ],
                        datasets: [{
                            label: 'Total Complaints',
                            data: [234, 189, 167, 156, 123, 89, 67, 45, 34, 23, 12],
                            backgroundColor: [
                                '#00ff88',
                                '#0ea5e9',
                                '#8b5cf6',
                                '#fbbf24',
                                '#f59e0b',
                                '#ef4444',
                                '#06b6d4',
                                '#10b981',
                                '#f97316',
                                '#ec4899',
                                '#84cc16'
                            ],
                            borderRadius: 8,
                            borderSkipped: false
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                grid: { color: '#334155' }
                            },
                            x: {
                                grid: { color: '#334155' },
                                ticks: { maxRotation: 45 }
                            }
                        }
                    }
                });
            }

            // Complaint Types Chart
            const complaintTypesCtx = document.getElementById('complaintTypesChart');
            if (complaintTypesCtx) {
                new Chart(complaintTypesCtx, {
                    type: 'doughnut',
                    data: {
                        labels: ['Infrastructure', 'Service Quality', 'Maintenance', 'Emergency', 'Others'],
                        datasets: [{
                            data: [35, 28, 22, 10, 5],
                            backgroundColor: [
                                '#0ea5e9',
                                '#00ff88',
                                '#fbbf24',
                                '#ef4444',
                                '#8b5cf6'
                            ],
                            borderWidth: 0,
                            hoverOffset: 15
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    usePointStyle: true,
                                    padding: 20,
                                    font: { size: 12 }
                                }
                            }
                        }
                    }
                });
            }

            // Resolution Trends Chart
            const resolutionTrendsCtx = document.getElementById('resolutionTrendsChart');
            if (resolutionTrendsCtx) {
                new Chart(resolutionTrendsCtx, {
                    type: 'line',
                    data: {
                        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                        datasets: [{
                            label: 'Resolved',
                            data: [65, 72, 68, 75, 78, 82, 85, 88, 84, 89, 92, 89],
                            borderColor: '#00ff88',
                            backgroundColor: 'rgba(0, 255, 136, 0.1)',
                            tension: 0.4,
                            fill: true,
                            borderWidth: 3
                        }, {
                            label: 'Pending',
                            data: [25, 20, 22, 18, 15, 12, 10, 8, 11, 7, 5, 8],
                            borderColor: '#fbbf24',
                            backgroundColor: 'rgba(251, 191, 36, 0.1)',
                            tension: 0.4,
                            fill: true,
                            borderWidth: 3
                        }, {
                            label: 'Escalated',
                            data: [10, 8, 10, 7, 7, 6, 5, 4, 5, 4, 3, 3],
                            borderColor: '#ef4444',
                            backgroundColor: 'rgba(239, 68, 68, 0.1)',
                            tension: 0.4,
                            fill: true,
                            borderWidth: 3
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'top',
                                labels: {
                                    usePointStyle: true,
                                    padding: 20
                                }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                grid: { color: '#334155' }
                            },
                            x: {
                                grid: { color: '#334155' }
                            }
                        }
                    }
                });
            }

            // SLA Performance Chart
            const slaPerformanceCtx = document.getElementById('slaPerformanceChart');
            if (slaPerformanceCtx) {
                new Chart(slaPerformanceCtx, {
                    type: 'doughnut',
                    data: {
                        labels: ['Within SLA', 'SLA Breached', 'Critical'],
                        datasets: [{
                            data: [75, 20, 5],
                            backgroundColor: [
                                '#00ff88',
                                '#fbbf24',
                                '#ef4444'
                            ],
                            borderWidth: 0,
                            hoverOffset: 10
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    usePointStyle: true,
                                    padding: 15
                                }
                            }
                        }
                    }
                });
            }

            // Priority Distribution Chart
            const priorityDistributionCtx = document.getElementById('priorityDistributionChart');
            if (priorityDistributionCtx) {
                new Chart(priorityDistributionCtx, {
                    type: 'polarArea',
                    data: {
                        labels: ['High', 'Medium', 'Low', 'Critical'],
                        datasets: [{
                            data: [15, 45, 35, 5],
                            backgroundColor: [
                                '#ef4444',
                                '#fbbf24',
                                '#00ff88',
                                '#8b5cf6'
                            ],
                            borderWidth: 2,
                            borderColor: '#1e293b'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    usePointStyle: true,
                                    padding: 15
                                }
                            }
                        }
                    }
                });
            }

            // Geographic Heatmap Chart
            const geographicHeatmapCtx = document.getElementById('geographicHeatmapChart');
            if (geographicHeatmapCtx) {
                new Chart(geographicHeatmapCtx, {
                    type: 'scatter',
                    data: {
                        datasets: [{
                            label: 'Ward 1-15',
                            data: [
                                {x: 10, y: 20, r: 15},
                                {x: 15, y: 25, r: 20},
                                {x: 20, y: 30, r: 12},
                                {x: 25, y: 35, r: 18},
                                {x: 30, y: 40, r: 25},
                                {x: 35, y: 45, r: 14},
                                {x: 40, y: 50, r: 22},
                                {x: 45, y: 55, r: 16},
                                {x: 50, y: 60, r: 19},
                                {x: 55, y: 65, r: 13},
                                {x: 60, y: 70, r: 21},
                                {x: 65, y: 75, r: 17},
                                {x: 70, y: 80, r: 24},
                                {x: 75, y: 85, r: 11},
                                {x: 80, y: 90, r: 26}
                            ],
                            backgroundColor: 'rgba(0, 255, 136, 0.6)',
                            borderColor: '#00ff88',
                            borderWidth: 2
                        }, {
                            label: 'Ward 16-30',
                            data: [
                                {x: 12, y: 22, r: 18},
                                {x: 18, y: 28, r: 15},
                                {x: 24, y: 34, r: 20},
                                {x: 28, y: 38, r: 14},
                                {x: 32, y: 42, r: 22},
                                {x: 38, y: 48, r: 16},
                                {x: 42, y: 52, r: 19},
                                {x: 48, y: 58, r: 13},
                                {x: 52, y: 62, r: 21},
                                {x: 58, y: 68, r: 17},
                                {x: 62, y: 72, r: 23},
                                {x: 68, y: 78, r: 12},
                                {x: 72, y: 82, r: 25},
                                {x: 78, y: 88, r: 14},
                                {x: 82, y: 92, r: 18}
                            ],
                            backgroundColor: 'rgba(14, 165, 233, 0.6)',
                            borderColor: '#0ea5e9',
                            borderWidth: 2
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'top',
                                labels: {
                                    usePointStyle: true,
                                    padding: 20
                                }
                            }
                        },
                        scales: {
                            x: {
                                type: 'linear',
                                position: 'bottom',
                                title: {
                                    display: true,
                                    text: 'Geographic X Coordinate'
                                },
                                grid: { color: '#334155' }
                            },
                            y: {
                                title: {
                                    display: true,
                                    text: 'Geographic Y Coordinate'
                                },
                                grid: { color: '#334155' }
                            }
                        }
                    }
                });
            }

            // Officer Performance Chart
            const officerPerformanceCtx = document.getElementById('officerPerformanceChart');
            if (officerPerformanceCtx) {
                new Chart(officerPerformanceCtx, {
                    type: 'radar',
                    data: {
                        labels: [
                            'Response Time',
                            'Resolution Rate',
                            'Citizen Satisfaction',
                            'SLA Compliance',
                            'Communication',
                            'Follow-up'
                        ],
                        datasets: [{
                            label: 'Top Performers',
                            data: [90, 95, 88, 92, 85, 90],
                            borderColor: '#00ff88',
                            backgroundColor: 'rgba(0, 255, 136, 0.2)',
                            borderWidth: 3,
                            pointBackgroundColor: '#00ff88',
                            pointBorderColor: '#fff',
                            pointBorderWidth: 2
                        }, {
                            label: 'Average Performance',
                            data: [70, 75, 68, 72, 65, 70],
                            borderColor: '#fbbf24',
                            backgroundColor: 'rgba(251, 191, 36, 0.1)',
                            borderWidth: 3,
                            pointBackgroundColor: '#fbbf24',
                            pointBorderColor: '#fff',
                            pointBorderWidth: 2
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'top',
                                labels: {
                                    usePointStyle: true,
                                    padding: 20
                                }
                            }
                        },
                        scales: {
                            r: {
                                beginAtZero: true,
                                max: 100,
                                grid: { color: '#334155' },
                                angleLines: { color: '#334155' },
                                pointLabels: { color: '#94a3b8' }
                            }
                        }
                    }
                });
            }

            // Satisfaction Chart
            const satisfactionCtx = document.getElementById('satisfactionChart');
            if (satisfactionCtx) {
                new Chart(satisfactionCtx, {
                    type: 'doughnut',
                    data: {
                        labels: ['Excellent', 'Good', 'Average', 'Poor'],
                        datasets: [{
                            data: [45, 35, 15, 5],
                            backgroundColor: [
                                '#00ff88',
                                '#10b981',
                                '#fbbf24',
                                '#ef4444'
                            ],
                            borderWidth: 0,
                            hoverOffset: 10
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    usePointStyle: true,
                                    padding: 15,
                                    font: { size: 11 }
                                }
                            }
                        }
                    }
                });
            }

            // Department Chart (Original)
            const departmentCtx = document.getElementById('departmentChart');
            if (departmentCtx) {
                new Chart(departmentCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Water Supply', 'Roads', 'Electricity', 'Sanitation', 'Others'],
                        datasets: [{
                            label: 'Complaints',
                            data: [45, 38, 32, 28, 15],
                            backgroundColor: [
                                '#0ea5e9',
                                '#00ff88',
                                '#fbbf24',
                                '#ef4444',
                                '#8b5cf6'
                            ],
                            borderRadius: 8,
                            borderSkipped: false
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                grid: {
                                    color: '#334155'
                                }
                            },
                            x: {
                                grid: {
                                    color: '#334155'
                                }
                            }
                        }
                    }
                });
            }

            // Resolution Chart
            const resolutionCtx = document.getElementById('resolutionChart');
            if (resolutionCtx) {
                new Chart(resolutionCtx, {
                    type: 'line',
                    data: {
                        labels: ['Week 1', 'Week 2', 'Week 3', 'Week 4'],
                        datasets: [{
                            label: 'Resolved',
                            data: [85, 92, 88, 95],
                            borderColor: '#00ff88',
                            backgroundColor: 'rgba(0, 255, 136, 0.1)',
                            tension: 0.4,
                            fill: true,
                            borderWidth: 3
                        }, {
                            label: 'Escalated',
                            data: [15, 8, 12, 5],
                            borderColor: '#ef4444',
                            backgroundColor: 'rgba(239, 68, 68, 0.1)',
                            tension: 0.4,
                            fill: true,
                            borderWidth: 3
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'top',
                                labels: {
                                    usePointStyle: true,
                                    padding: 20
                                }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                grid: {
                                    color: '#334155'
                                }
                            },
                            x: {
                                grid: {
                                    color: '#334155'
                                }
                            }
                        }
                    }
                });
            }

            // Performance Chart (Analytics section)
            const performanceCtx = document.getElementById('performanceChart');
            if (performanceCtx) {
                new Chart(performanceCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                        datasets: [{
                            label: 'Resolution Rate (%)',
                            data: [78, 82, 85, 88, 91, 89],
                            backgroundColor: '#00ff88',
                            borderRadius: 8,
                            borderSkipped: false
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: true,
                                max: 100,
                                grid: {
                                    color: '#334155'
                                }
                            },
                            x: {
                                grid: {
                                    color: '#334155'
                                }
                            }
                        }
                    }
                });
            }

            // Response Time Chart
            const responseTimeCtx = document.getElementById('responseTimeChart');
            if (responseTimeCtx) {
                new Chart(responseTimeCtx, {
                    type: 'line',
                    data: {
                        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                        datasets: [{
                            label: 'Avg Response Time (hours)',
                            data: [24, 18, 16, 14, 12, 10],
                            borderColor: '#fbbf24',
                            backgroundColor: 'rgba(251, 191, 36, 0.1)',
                            tension: 0.4,
                            fill: true,
                            borderWidth: 3
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: true,
                                grid: {
                                    color: '#334155'
                                }
                            },
                            x: {
                                grid: {
                                    color: '#334155'
                                }
                            }
                        }
                    }
                });
            }
        }

        // Map initialization
        let map;
        function initMap() {
            if (map) return; // Prevent multiple initializations
            
            map = L.map('map').setView([28.6139, 77.2090], 11); // Delhi coordinates

            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '© OpenStreetMap contributors'
            }).addTo(map);

            // Sample complaint markers
            const complaints = [
                {lat: 28.6139, lng: 77.2090, title: "Water Supply Issue", status: "pending"},
                {lat: 28.6289, lng: 77.2065, title: "Road Repair", status: "resolved"},
                {lat: 28.5989, lng: 77.2295, title: "Electricity Problem", status: "escalated"},
                {lat: 28.6329, lng: 77.2195, title: "Sanitation Issue", status: "pending"},
                {lat: 28.6089, lng: 77.1945, title: "Street Light", status: "resolved"}
            ];

            complaints.forEach(complaint => {
                const color = complaint.status === 'resolved' ? '#00ff88' : 
                             complaint.status === 'escalated' ? '#ef4444' : '#fbbf24';
                
                L.circleMarker([complaint.lat, complaint.lng], {
                    color: color,
                    fillColor: color,
                    fillOpacity: 0.8,
                    radius: 10,
                    weight: 3
                }).addTo(map)
                .bindPopup(`<b>${complaint.title}</b><br>Status: ${complaint.status}`);
            });
        }

        // Table filtering
        function filterTable() {
            const departmentFilter = document.getElementById('departmentFilter').value;
            const statusFilter = document.getElementById('statusFilter').value;
            const subtypeFilter = document.getElementById('subtypeFilter').value;
            const tableBody = document.getElementById('complaintsTableBody');
            const rows = tableBody.getElementsByTagName('tr');

            for (let row of rows) {
                const department = row.cells[4].textContent.toLowerCase(); // Department column
                const status = row.cells[5].textContent.toLowerCase(); // Status column
                const type = row.cells[3].textContent.toLowerCase(); // Type column

                const departmentMatch = !departmentFilter || department.includes(departmentFilter.replace('-', ' '));
                const statusMatch = !statusFilter || status.includes(statusFilter);
                const subtypeMatch = !subtypeFilter || type.includes(subtypeFilter.replace('-', ' '));

                row.style.display = (departmentMatch && statusMatch && subtypeMatch) ? '' : 'none';
            }
        }

        // Action button handlers
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('action-btn')) {
                const action = e.target.textContent;
                const row = e.target.closest('tr');
                const complaintId = row.cells[0].textContent;
                
                // Create a more sophisticated notification
                const notification = document.createElement('div');
                notification.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background: linear-gradient(135deg, #00ff88, #0ea5e9);
                    color: white;
                    padding: 15px 25px;
                    border-radius: 10px;
                    box-shadow: 0 10px 30px rgba(0, 255, 136, 0.3);
                    z-index: 10000;
                    font-weight: 600;
                    animation: slideIn 0.3s ease;
                `;
                notification.textContent = `${action} action triggered for ${complaintId}`;
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    notification.remove();
                }, 3000);
            }
        });

        // Search functionality with enhanced UX
        document.querySelector('.search-box input').addEventListener('input', function(e) {
            const searchTerm = e.target.value.toLowerCase();
            const tableBody = document.getElementById('complaintsTableBody');
            
            if (tableBody) {
                const rows = tableBody.getElementsByTagName('tr');
                let visibleCount = 0;
                
                for (let row of rows) {
                    const text = row.textContent.toLowerCase();
                    const isVisible = text.includes(searchTerm);
                    row.style.display = isVisible ? '' : 'none';
                    if (isVisible) visibleCount++;
                }
                
                // Add search result indicator
                const searchIcon = document.querySelector('.search-box i');
                if (searchTerm && visibleCount === 0) {
                    searchIcon.className = 'fas fa-exclamation-triangle';
                    searchIcon.style.color = '#ef4444';
                } else if (searchTerm) {
                    searchIcon.className = 'fas fa-check';
                    searchIcon.style.color = '#00ff88';
                } else {
                    searchIcon.className = 'fas fa-search';
                    searchIcon.style.color = '#94a3b8';
                }
            }
        });

        // Complaint Details Modal Functions
        function showComplaintDetails(complaintId) {
            const modal = document.getElementById('complaintModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalBody = document.getElementById('modalBody');
            
            // Sample complaint data (in real app, this would come from API)
            const complaintData = {
                'CR-2024-001': {
                    id: 'CR-2024-001',
                    citizen: 'Rajesh Kumar',
                    phone: '+91 9876543210',
                    email: 'rajesh.kumar@email.com',
                    address: 'House No. 123, Sector 15, Gurgaon, Haryana - 122001',
                    type: 'Street Light Not Working',
                    department: 'Lighting Department',
                    status: 'Pending',
                    priority: 'Medium',
                    submittedDate: '2024-01-15',
                    expectedResolution: '2024-01-18',
                    assignedOfficer: 'Amit Kumar',
                    officerPhone: '+91 9876543211',
                    description: 'The street light near my house has not been working for the past 3 days. This is causing safety concerns for residents, especially during evening hours. The light pole number is SL-2024-456.',
                    location: 'Sector 15, Block A, Near Community Center',
                    ward: 'Ward 12',
                    timeline: [
                        { date: '2024-01-15 10:30 AM', event: 'Complaint submitted by citizen' },
                        { date: '2024-01-15 11:15 AM', event: 'Complaint acknowledged by system' },
                        { date: '2024-01-15 02:30 PM', event: 'Assigned to Lighting Department' },
                        { date: '2024-01-16 09:00 AM', event: 'Field inspection scheduled' }
                    ]
                },
                'CR-2024-002': {
                    id: 'CR-2024-002',
                    citizen: 'Priya Sharma',
                    phone: '+91 9876543212',
                    email: 'priya.sharma@email.com',
                    address: 'Flat 45B, Green Valley Apartments, Sector 22, Gurgaon - 122015',
                    type: 'No Water Supply',
                    department: 'Water Department',
                    status: 'Resolved',
                    priority: 'High',
                    submittedDate: '2024-01-14',
                    expectedResolution: '2024-01-16',
                    assignedOfficer: 'Ravi Singh',
                    officerPhone: '+91 9876543213',
                    description: 'No water supply in our apartment complex for the last 2 days. This is affecting 200+ families. The main water line seems to be damaged.',
                    location: 'Green Valley Apartments, Sector 22',
                    ward: 'Ward 8',
                    timeline: [
                        { date: '2024-01-14 08:00 AM', event: 'Complaint submitted by citizen' },
                        { date: '2024-01-14 08:30 AM', event: 'Marked as high priority' },
                        { date: '2024-01-14 10:00 AM', event: 'Emergency team dispatched' },
                        { date: '2024-01-14 02:00 PM', event: 'Water line repair completed' },
                        { date: '2024-01-14 04:00 PM', event: 'Water supply restored - Complaint resolved' }
                    ]
                }
            };
            
            const complaint = complaintData[complaintId] || complaintData['CR-2024-001'];
            
            modalTitle.textContent = `📋 Complaint Details - ${complaint.id}`;
            
            modalBody.innerHTML = `
                <div class="detail-section">
                    <h4><i class="fas fa-user"></i> Citizen Information</h4>
                    <div class="detail-grid">
                        <div class="detail-item">
                            <div class="detail-label">Full Name</div>
                            <div class="detail-value">${complaint.citizen}</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Phone Number</div>
                            <div class="detail-value">${complaint.phone}</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Email Address</div>
                            <div class="detail-value">${complaint.email}</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Address</div>
                            <div class="detail-value">${complaint.address}</div>
                        </div>
                    </div>
                </div>

                <div class="detail-section">
                    <h4><i class="fas fa-clipboard-list"></i> Complaint Information</h4>
                    <div class="detail-grid">
                        <div class="detail-item">
                            <div class="detail-label">Complaint ID</div>
                            <div class="detail-value">${complaint.id}</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Type</div>
                            <div class="detail-value">${complaint.type}</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Department</div>
                            <div class="detail-value">${complaint.department}</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Status</div>
                            <div class="detail-value">
                                <span class="status-badge status-${complaint.status.toLowerCase()}">${complaint.status}</span>
                            </div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Priority</div>
                            <div class="detail-value">${complaint.priority}</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Ward</div>
                            <div class="detail-value">${complaint.ward}</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Location</div>
                            <div class="detail-value">${complaint.location}</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Submitted Date</div>
                            <div class="detail-value">${complaint.submittedDate}</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Expected Resolution</div>
                            <div class="detail-value">${complaint.expectedResolution}</div>
                        </div>
                    </div>
                    <div class="complaint-description">
                        <div class="detail-label">Description</div>
                        <div class="detail-value">${complaint.description}</div>
                    </div>
                </div>

                <div class="detail-section">
                    <h4><i class="fas fa-user-tie"></i> Assigned Officer</h4>
                    <div class="detail-grid">
                        <div class="detail-item">
                            <div class="detail-label">Officer Name</div>
                            <div class="detail-value">${complaint.assignedOfficer}</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Contact Number</div>
                            <div class="detail-value">${complaint.officerPhone}</div>
                        </div>
                    </div>
                </div>

                <div class="detail-section">
                    <h4><i class="fas fa-history"></i> Timeline</h4>
                    <div class="timeline">
                        ${complaint.timeline.map(item => `
                            <div class="timeline-item">
                                <div class="timeline-date">${item.date}</div>
                                <div class="timeline-content">${item.event}</div>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
            
            modal.style.display = 'block';
        }

        function closeComplaintModal() {
            const modal = document.getElementById('complaintModal');
            modal.style.display = 'none';
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('complaintModal');
            if (event.target === modal) {
                closeComplaintModal();
            }
        }

        // Add CSS animation for notifications
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from {
                    transform: translateX(100%);
                    opacity: 0;
                }
                to {
                    transform: translateX(0);
                    opacity: 1;
                }
            }
        `;
        document.head.appendChild(style);
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'96b8c8ecc5dda6f3',t:'MTc1NDU5MDc5NS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script>

</body>
</html>